import{aA as b,bB as m,b5 as D,bj as S,aJ as ne,bC as te,aN as J,aP as le,b6 as oe,b7 as ue,aQ as R,aF as j}from"../../index-GVMBwoSB.js";import{V as se}from"./RadioButton-BQ62eZio.js";import{u as Q,F as re}from"./FormItemContext-2KmsKwBN.js";import{u as X}from"./index-QZr53X2a.js";import{e as q,d as ce,b as y,h as ie,o as de,v as ve,r as I,j as w,w as K,p as fe}from"./vue-chunks-CX0PHdkT.js";const me=()=>({name:String,prefixCls:String,options:D([]),disabled:Boolean,id:String}),be=()=>b(b({},me()),{defaultValue:D(),value:D(),onChange:S(),"onUpdate:value":S()}),he=()=>({prefixCls:String,defaultChecked:m(),checked:m(),disabled:m(),isGroup:m(),value:ne.any,name:String,id:String,indeterminate:m(),type:te("checkbox"),autofocus:m(),onChange:S(),"onUpdate:checked":S(),onClick:S(),skipGroup:m(!1)}),pe=()=>b(b({},he()),{indeterminate:m(!1)}),z=Symbol("CheckboxGroupContext");var H=function(e,h){var u={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&h.indexOf(t)<0&&(u[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)h.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(u[t[r]]=e[t[r]]);return u};const O=q({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:pe(),setup(e,h){let{emit:u,attrs:t,slots:r,expose:G}=h;const C=Q(),_=re.useInject(),{prefixCls:c,direction:p,disabled:P}=J("checkbox",e),A=le(),[i,f]=X(c),l=ce(z,void 0),g=Symbol("checkboxUniId"),M=y(()=>(l==null?void 0:l.disabled.value)||P.value);ie(()=>{!e.skipGroup&&l&&l.registerValue(g,e.value)}),de(()=>{l&&l.cancelValue(g)}),ve(()=>{oe(!!(e.checked!==void 0||l||e.value===void 0))});const $=a=>{const s=a.target.checked;u("update:checked",s),u("change",a),C.onFieldChange()},x=I();return G({focus:()=>{var a;(a=x.value)===null||a===void 0||a.focus()},blur:()=>{var a;(a=x.value)===null||a===void 0||a.blur()}}),()=>{var a;const s=ue((a=r.default)===null||a===void 0?void 0:a.call(r)),{indeterminate:o,skipGroup:d,id:F=C.id.value}=e,T=H(e,["indeterminate","skipGroup","id"]),{onMouseenter:B,onMouseleave:k,onInput:ge,class:W,style:Y}=t,Z=H(t,["onMouseenter","onMouseleave","onInput","class","style"]),v=b(b(b(b({},T),{id:F,prefixCls:c.value}),Z),{disabled:M.value});l&&!d?(v.onChange=function(){for(var N=arguments.length,U=new Array(N),V=0;V<N;V++)U[V]=arguments[V];u("change",...U),l.toggleOption({label:s,value:e.value})},v.name=l.name.value,v.checked=l.mergedValue.value.includes(e.value),v.disabled=M.value||A.value,v.indeterminate=o):v.onChange=$;const ee=R({[`${c.value}-wrapper`]:!0,[`${c.value}-rtl`]:p.value==="rtl",[`${c.value}-wrapper-checked`]:v.checked,[`${c.value}-wrapper-disabled`]:v.disabled,[`${c.value}-wrapper-in-form-item`]:_.isFormItemInput},W,f.value),ae=R({[`${c.value}-indeterminate`]:o},f.value);return i(w("label",{class:ee,style:Y,onMouseenter:B,onMouseleave:k},[w(se,j(j({"aria-checked":o?"mixed":void 0},v),{},{class:ae,ref:x}),null),s.length?w("span",null,[s]):null]))}}}),E=q({compatConfig:{MODE:3},name:"ACheckboxGroup",inheritAttrs:!1,props:be(),setup(e,h){let{slots:u,attrs:t,emit:r,expose:G}=h;const C=Q(),{prefixCls:_,direction:c}=J("checkbox",e),p=y(()=>`${_.value}-group`),[P,A]=X(p),i=I((e.value===void 0?e.defaultValue:e.value)||[]);K(()=>e.value,()=>{i.value=e.value||[]});const f=y(()=>e.options.map(n=>typeof n=="string"||typeof n=="number"?{label:n,value:n}:n)),l=I(Symbol()),g=I(new Map),M=n=>{g.value.delete(n),l.value=Symbol()},$=(n,a)=>{g.value.set(n,a),l.value=Symbol()},x=I(new Map);return K(l,()=>{const n=new Map;for(const a of g.value.values())n.set(a,!0);x.value=n}),fe(z,{cancelValue:M,registerValue:$,toggleOption:n=>{const a=i.value.indexOf(n.value),s=[...i.value];a===-1?s.push(n.value):s.splice(a,1),e.value===void 0&&(i.value=s);const o=s.filter(d=>x.value.has(d)).sort((d,F)=>{const T=f.value.findIndex(k=>k.value===d),B=f.value.findIndex(k=>k.value===F);return T-B});r("update:value",o),r("change",o),C.onFieldChange()},mergedValue:i,name:y(()=>e.name),disabled:y(()=>e.disabled)}),G({mergedValue:i}),()=>{var n;const{id:a=C.id.value}=e;let s=null;return f.value&&f.value.length>0&&(s=f.value.map(o=>{var d;return w(O,{prefixCls:_.value,key:o.value.toString(),disabled:"disabled"in o?o.disabled:e.disabled,indeterminate:o.indeterminate,value:o.value,checked:i.value.indexOf(o.value)!==-1,onChange:o.onChange,class:`${p.value}-item`},{default:()=>[u.label!==void 0?(d=u.label)===null||d===void 0?void 0:d.call(u,o):o.label]})})),P(w("div",j(j({},t),{},{class:[p.value,{[`${p.value}-rtl`]:c.value==="rtl"},t.class,A.value],id:a}),[s||((n=u.default)===null||n===void 0?void 0:n.call(u))]))}}});O.Group=E;O.install=function(e){return e.component(O.name,O),e.component(E.name,E),e};export{O as C,E as _};
