import{b as k,cW as S,k as w,M as x}from"../../index-DrRzkLrM.js";import"./index-CA_jlLpR.js";import{I as U}from"./Input-BoEXW7Ed.js";import{_ as F,F as I}from"./index-DiumbRRT.js";import{r as p,L as f,M as L,j as t,Q as s,V as B,a9 as D,P as K,S as O,y as R}from"./vue-chunks-Be7x44a8.js";import{_ as $}from"./index-Dq7pg9aM.js";import{_ as C}from"./TextArea-CnprCuXF.js";import{S as M}from"./share-form-Cj55aNxd.js";import{_ as N}from"./index-DrTRCjJ-.js";const V={class:"seo-setting"},E={__name:"seo-setting",emits:["ok"],setup(_,{expose:u,emit:r}){const i=r,a=p(!1),e=p({library_key:"",seo_title:"",seo_desc:"",seo_keywords:""}),l=p(!1),v=()=>{a.value=!0,S({...D(e.value)}).then(()=>{a.value=!1,l.value=!1,w.success("保存成功"),i("ok")}).catch(()=>{a.value=!1})};return u({open:m=>{let o={library_key:"",seo_title:"",seo_desc:"",seo_keywords:""};e.value={...o,...m},l.value=!0}}),(m,o)=>{const y=$,d=U,c=F,g=C,b=I,h=x;return f(),L("div",null,[t(h,{open:l.value,"onUpdate:open":o[3]||(o[3]=n=>l.value=n),title:"SEO设置",onOk:v,width:"746px",confirmLoading:a.value},{default:s(()=>[B("div",V,[t(y,{message:"修改后，也需要发布才会生效。",type:"info","show-icon":"",style:{"margin-bottom":"16px"}}),t(b,{model:e.value,layout:"vertical"},{default:s(()=>[t(c,{label:"Title"},{default:s(()=>[t(d,{value:e.value.seo_title,"onUpdate:value":o[0]||(o[0]=n=>e.value.seo_title=n),placeholder:"请输入页面标题"},null,8,["value"])]),_:1}),t(c,{label:"Description"},{default:s(()=>[t(g,{value:e.value.seo_desc,"onUpdate:value":o[1]||(o[1]=n=>e.value.seo_desc=n),placeholder:"请输入页面描述"},null,8,["value"])]),_:1}),t(c,{label:"Keyword"},{default:s(()=>[t(d,{value:e.value.seo_keywords,"onUpdate:value":o[2]||(o[2]=n=>e.value.seo_keywords=n),placeholder:"请输入关键词,多个关键词用英文逗号分隔"},null,8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["open","confirmLoading"])])}}},J=k(E,[["__scopeId","data-v-1b717cda"]]),X={__name:"share-popup",props:{docKey:{type:String},libraryId:{type:[Number,String],default:""},libraryKey:{type:String,default:""},baseUrl:{type:String,default:"/open/doc"}},setup(_){const u=_,r=p(null),i=async a=>{a&&R(()=>{r.value.init({doc_key:u.docKey})})};return(a,e)=>{const l=N;return f(),K(l,{color:"#fff",trigger:"hover",placement:"bottomRight",overlayStyle:{"max-width":"400px",width:"400px"},overlayInnerStyle:{padding:"0"},class:"share-popup",onOpenChange:i},{content:s(()=>[t(M,{ref_key:"shareFormRef",ref:r,layout:"vertical","hide-copy":!0,baseUrl:_.baseUrl},null,8,["baseUrl"])]),default:s(()=>[O(a.$slots,"default")]),_:3})}}};export{J as S,X as _};
