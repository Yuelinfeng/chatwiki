import{J as q,A as c,r as p}from"./vue-chunks-CX0PHdkT.js";import{p as w}from"./index-BKhu31L8.js";const f={accessRestrictionsType:1,logo:"",pageTitle:"",navbarShow:2,lang:"zh-CN",pageStyle:{navbarBackgroundColor:"#2475FC"}},n={headTitle:"",headSubTitle:"Based on LLM, free and open-source.",headImage:"",lang:"zh-CN",pageStyle:{headBackgroundColor:"linear-gradient,to right,#2435E7,#01A0FB"}},x=q("robot",()=>{const t=c({id:void 0,robot_key:"",fast_command_switch:"",yunpc_fast_command_switch:"",app_id:-1,app_id_embed:-2,robot_name:"",robot_intro:"",robot_avatar:void 0,robot_avatar_url:"",use_model:void 0,model_config_id:"",rerank_status:0,rerank_use_model:void 0,rerank_model_config_id:void 0,temperature:0,max_token:0,context_pair:0,top_k:1,similarity:0,search_type:1,prompt:"",prompt_struct:{},prompt_struct_default:{},prompt_type:1,library_ids:"",form_ids:"",welcomes:{content:"",question:[]},h5_domain:"",h5_website:"",pc_domain:"",chat_type:"",library_qa_direct_reply_score:"",library_qa_direct_reply_switch:"",mixture_qa_direct_reply_score:"",mixture_qa_direct_reply_switch:"",unknown_question_prompt:{content:"",question:[]},show_type:1,enable_question_optimize:"false",enable_question_guide:"false",enable_common_question:"false",common_question_list:[],answer_source_switch:"false",application_type:0}),r=c(JSON.parse(JSON.stringify(f))),i=c(JSON.parse(JSON.stringify(n))),y=e=>{let o=JSON.parse(e.welcomes);o.question=o.question.map(s=>({content:s}));let _={content:"",question:[]};e.unknown_question_prompt&&(_=JSON.parse(e.unknown_question_prompt)),_.question=_.question.map(s=>({content:s}));let a={};e.prompt_struct&&(a=JSON.parse(e.prompt_struct));let b={};e.prompt_struct_default&&(b=JSON.parse(e.prompt_struct_default)),t.id=e.id,t.robot_key=e.robot_key,t.fast_command_switch=e.fast_command_switch,t.yunpc_fast_command_switch=e.yunpc_fast_command_switch,t.robot_name=e.robot_name,t.robot_intro=e.robot_intro,t.robot_avatar_url=e.robot_avatar,t.use_model=e.use_model,t.model_config_id=e.model_config_id,t.rerank_status=Number(e.rerank_status),t.rerank_use_model=e.rerank_use_model,t.rerank_model_config_id=e.rerank_model_config_id,t.prompt=e.prompt,t.prompt_struct=a,t.prompt_struct_default=b,t.prompt_type=+e.prompt_type,t.library_ids=e.library_ids||"",t.form_ids=e.form_ids||"",t.welcomes=o,t.unknown_question_prompt=_,t.show_type=Number(e.show_type),t.temperature=Number(e.temperature),t.max_token=Number(e.max_token),t.context_pair=Number(e.context_pair),t.top_k=Number(e.top_k),t.similarity=Number(e.similarity),t.search_type=Number(e.search_type),t.think_switch=Number(e.think_switch),t.pc_domain=e.pc_domain,t.chat_type=e.chat_type,t.library_qa_direct_reply_score=e.library_qa_direct_reply_score,t.library_qa_direct_reply_switch=e.library_qa_direct_reply_switch,t.mixture_qa_direct_reply_score=e.mixture_qa_direct_reply_score,t.mixture_qa_direct_reply_switch=e.mixture_qa_direct_reply_switch,t.h5_domain=e.h5_domain,t.h5_website=e.h5_domain+"/#/chat?robot_key="+e.robot_key,t.enable_question_optimize=e.enable_question_optimize,t.enable_question_guide=e.enable_question_guide,t.enable_common_question=e.enable_common_question,t.common_question_list=e.common_question_list,t.answer_source_switch=e.answer_source_switch,t.application_type=e.application_type,e.external_config_h5!==""?Object.assign(r,JSON.parse(e.external_config_h5)):(Object.assign(r,JSON.parse(JSON.stringify(f))),r.logo=t.robot_avatar_url,r.pageTitle=t.robot_name),e.external_config_pc!==""?Object.assign(i,JSON.parse(e.external_config_pc)):(n.headTitle=t.robot_name,n.headImage=t.robot_avatar_url,Object.assign(i,JSON.parse(JSON.stringify(n))))},h=async e=>{const o=await w({id:e});if(o.code!==0)return!1;let _=o.data;return y(_),o},m=p([]),d=async e=>{m.value=e||[]},u=p({}),g=e=>{u.value=e},l=p([]);return{robotInfo:t,getRobot:h,external_config_h5:r,external_config_pc:i,quickCommandLists:m,setQuickCommand:d,draftSaveTime:u,setDrafSaveTime:g,modelList:l,setModelList:e=>{l.value=e}}});export{x as u};
