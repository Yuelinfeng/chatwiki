import{b as ge,w as he,A as W,r as x,L as c,M as m,V as e,a8 as B,F as L,j as o,Q as u,a1 as A,P as M,X as I,Y as S,a2 as V,a3 as le,a4 as ie,a9 as re,ah as be,E as ye,U as Z,u as K,a0 as ke,$ as xe,a5 as qe}from"./vue-chunks-CX0PHdkT.js";import{_ as X,c as ce,e as ee,M as J,E as ne,B as we}from"../../index-GVMBwoSB.js";import{a as $e,b as Fe,e as Ie,f as Se,s as Pe}from"./index-VltaZJWM.js";import{F as te,_ as Ce}from"./index-BL197tQK.js";import"./index-CKa5RZod.js";import{I as _e}from"./Input--aGP1T3B.js";import{S as Ee,_ as Le}from"./index-Dh5rPAT7.js";import{_ as Te}from"./index-LfbI52ck.js";import{_ as Ne}from"./index-BJpcdxBN.js";import{_ as Ue}from"./index-CemxW2sd.js";import{U as je}from"./index-vNPh11_f.js";import{_ as Oe,T as ze}from"./index-DS7lFzRW.js";import{_ as De}from"./TextArea-DeS198JN.js";import{B as Be,_ as Qe}from"./index-Ccn7sZlH.js";import{S as Re}from"./index-D_8JGheY.js";import{L as Ae}from"./LeftOutlined-DoeBxBmI.js";import"./axios-Cm0UX6qg.js";import"./qs-D52wVmk8.js";import"./crypto-js-ZYyBUTQg.js";import"./dayjs-DItM2b4N.js";import"./colors-D_W7fn18.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./isPlainObject-BNcE28c5.js";import"./responsiveObserve-CXBgjl43.js";import"./collapseMotion-7Vnsd4b5.js";import"./index-3QeQOpaK.js";import"./QuestionCircleOutlined-BtZ-HKyh.js";import"./FormItemContext-2KmsKwBN.js";import"./index-DaXP6XK8.js";import"./Search-DaeGz4LJ.js";import"./SearchOutlined-DS22VXIZ.js";import"./inputProps-BUZdA0Zp.js";import"./Password-DduaVHe6.js";import"./statusUtils-BFiV3r53.js";import"./slide-9COri5Ta.js";import"./index-CZ0E7pKU.js";import"./isMobile-D_4OiXLP.js";import"./CheckOutlined-DWxGZyjB.js";import"./DownOutlined-CsDw0PzO.js";import"./move-DRhCXx5X.js";import"./index-U3MzplNa.js";import"./index-DTami1oY.js";import"./partition-B-kgZtUf.js";import"./useRefs-DaOtXq3f.js";import"./index-BD0PNgcQ.js";import"./shallowequal-BtoafKsn.js";import"./Dropdown-1ablIDCT.js";import"./pick-K49Wrubl.js";import"./PlusOutlined-sorM8mvn.js";import"./dropdown-DGCGRXRs.js";import"./RightOutlined-Ctsl4k5I.js";const y=q=>(le("data-v-18753e27"),q=q(),ie(),q),Ve={class:"segmentation-setting"},Me={class:"setting-items"},Ke={class:"setting-item intelligent-setting active"},Je={class:"setting-item-body"},We=y(()=>e("div",{class:"sub-setting-item-name"},"文件切分",-1)),Xe={key:0,class:"custom-setting-form excel-qa-form"},Ye={class:"form-item"},Ge=y(()=>e("div",{class:"form-item-label"},"问题所在列：",-1)),He={class:"form-item-body"},Ze={class:"form-item"},et=y(()=>e("div",{class:"form-item-label"},"答案所在列：",-1)),tt={class:"form-item-body"},ot=y(()=>e("div",{class:"sub-setting-item-name"},"索引方式",-1)),at={class:"indexing-methods-box"},st={class:"list-title-block"},nt=y(()=>e("div",{class:"list-content"}," 回答用户提问时，将用户提问与导入的问题和答案一起对比相似度，根据相似度高的问题和答案回复 ",-1)),lt={class:"list-title-block"},it=y(()=>e("div",{class:"list-content"}," 回答用户提问时，将用户提问与导入的问题一起对比相似度，再根据相似度高的问题和对应的答案来回复 ",-1)),rt={key:1,class:"custom-setting-form"},ct={class:"form-item"},_t=y(()=>e("div",{class:"form-item-label"},"问题开始标识符：",-1)),ut={class:"form-item-body"},dt={class:"form-item"},mt=y(()=>e("div",{class:"form-item-label"},"答案开始标识符：",-1)),pt={class:"form-item-body"},vt=y(()=>e("div",{class:"sub-setting-item-name"},"索引方式",-1)),ft={class:"indexing-methods-box"},gt={class:"list-title-block"},ht=y(()=>e("div",{class:"list-content"}," 回答用户提问时，将用户提问与导入的问题和答案一起对比相似度，根据相似度高的问题和答案回复 ",-1)),bt={class:"list-title-block"},yt=y(()=>e("div",{class:"list-content"}," 回答用户提问时，将用户提问与导入的问题一起对比相似度，再根据相似度高的问题和对应的答案来回复 ",-1)),kt={key:0,class:"custom-setting-form subsection-form"},xt={class:"form-item",style:{"margin-bottom":"18px"}},qt=y(()=>e("div",{class:"form-item-label"},"分段标识符：",-1)),wt={class:"form-item-body"},$t={class:"form-item"},Ft=y(()=>e("div",{class:"form-item-label"},"分段最大长度：",-1)),It={class:"form-item-body"},St=y(()=>e("span",{class:"unit-text"},"字符",-1)),Pt={class:"form-item"},Ct=y(()=>e("div",{class:"form-item-label not-required"},"分段重叠长度：",-1)),Et={class:"form-item-body"},Lt=y(()=>e("span",{class:"unit-text"},"字符",-1)),Tt={__name:"segmentation-setting",props:{mode:{type:Number,default:0},excellQaLists:{type:Array,default:()=>[]},libFileInfo:{type:Object,default:()=>{}},library_type:{default:0}},emits:["change","validate"],setup(q,{emit:T}){const P=te.useForm,d=T,_=q;ge(()=>_.libFileInfo.doc_type=="1"&&(_.libFileInfo.file_ext=="docx"||_.libFileInfo.file_ext=="html")),he(_,n=>{let t=n.libFileInfo,r=t.separators_no?t.separators_no.split(","):[11,12];a.separators_no=r.map(p=>+p),a.chunk_size=+t.chunk_size||512,a.chunk_overlap=+t.chunk_overlap||50,a.question_lable=t.question_lable,a.answer_lable=t.answer_lable,a.question_column=t.question_column||void 0,a.answer_column=t.answer_column||void 0,a.qa_index_type=+t.qa_index_type,a.enable_extract_image=t.enable_extract_image=="true",a.is_qa_doc=_.library_type==2?1:0});const a=W({separators_no:[],chunk_size:512,chunk_overlap:50,is_qa_doc:0,question_lable:"",answer_lable:"",question_column:void 0,answer_column:void 0,qa_index_type:1,enable_extract_image:!0}),w=W({question_lable:[{message:"请输入问题开始标识符",validator:async(n,t)=>a.is_qa_doc==1&&_.mode==0?t?Promise.resolve():Promise.reject("请输入问题开始标识符"):Promise.resolve()}],answer_lable:[{message:"请输入答案开始标识符",validator:async(n,t)=>a.is_qa_doc==1&&_.mode==0?t?Promise.resolve():Promise.reject("请输入答案开始标识符"):Promise.resolve()}],separators_no:[{message:"请选择分段标识符",validator:async(n,t)=>_.mode!=1&&a.is_qa_doc==0&&t.length==0?Promise.reject("请选择分段标识符"):Promise.resolve()}],chunk_size:[{validator:async(n,t)=>{if(_.mode!=1)if(t){if(t>2e3)return Promise.reject("最大分段长最大值不得超过2000")}else return Promise.reject("请输入分段最大长度");return Promise.resolve()}}],chunk_overlap:[{validator:async(n,t)=>_.mode!=1&&t>parseInt(a.chunk_size/2)?Promise.reject("分段重叠长度最大不得超过最大分段长度的50%"):Promise.resolve()}],question_column:[{message:"请选择问题所在列",validator:async(n,t)=>_.mode==1&&a.is_qa_doc==1?t?Promise.resolve():Promise.reject("请选择问题所在列"):Promise.resolve()}],answer_column:[{message:"请选择答案所在列",validator:async(n,t)=>_.mode==1&&a.is_qa_doc==1?t?Promise.resolve():Promise.reject("请选择答案所在列"):Promise.resolve()}]}),{resetFields:i,validate:N,validateInfos:R}=P(a,w),U=(n=!0)=>{let t=re(a);N().then(()=>{d("change",{...t}),d("validate","")}).catch(r=>{const{errorFields:p}=r;if(p.length>0){n&&p[0].name=="chunk_overlap"&&ee.error(p[0].errors[0]),d("validate",p[0].errors[0]);return}d("validate",""),d("change",{...t})})};let $=null;const g=()=>{$&&(clearTimeout($),$=null),$=setTimeout(()=>{U()},500)},C=x([]);(()=>{$e().then(n=>{C.value=n.data||[]})})();const F=n=>{n!=a.qa_index_type&&(a.qa_index_type=n,U())};return(n,t)=>{const r=Ee,p=Le,h=ce,z=_e,f=Te,Q=Ne;return c(),m("div",Ve,[e("div",Me,[e("div",Ke,[e("div",Je,[B("",!0),a.is_qa_doc==1?(c(),m(L,{key:1},[We,_.mode==1?(c(),m("div",Xe,[e("div",Ye,[Ge,e("div",He,[o(p,{value:a.question_column,"onUpdate:value":t[2]||(t[2]=l=>a.question_column=l),onChange:g,placeholder:"请选择列名",style:{width:"100%"}},{default:u(()=>[(c(!0),m(L,null,A(_.excellQaLists,l=>(c(),M(r,{value:l.value,key:l.value},{default:u(()=>[I(S(l.lable),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),e("div",Ze,[et,e("div",tt,[o(p,{value:a.answer_column,"onUpdate:value":t[3]||(t[3]=l=>a.answer_column=l),onChange:g,placeholder:"请选择答案所在列",style:{width:"100%"}},{default:u(()=>[(c(!0),m(L,null,A(_.excellQaLists,l=>(c(),M(r,{value:l.value,key:l.value},{default:u(()=>[I(S(l.lable),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),ot,e("div",at,[e("div",{class:V(["list-item",{active:a.qa_index_type==1}]),onClick:t[4]||(t[4]=l=>F(1))},[o(h,{class:"check-icon",name:"check-arrow-filled"}),e("div",st,[o(h,{name:"file-search"}),I(" 问题与答案一起生成索引 ")]),nt],2),e("div",{class:V(["list-item",{active:a.qa_index_type==2}]),onClick:t[5]||(t[5]=l=>F(2))},[o(h,{class:"check-icon",name:"check-arrow-filled"}),e("div",lt,[o(h,{name:"comment-search"}),I(" 仅对问题生成索引 ")]),it],2)])])):(c(),m("div",rt,[o(f,{gap:16},{default:u(()=>[e("div",ct,[_t,e("div",ut,[o(z,{placeholder:"请输入标识符",value:a.question_lable,"onUpdate:value":t[6]||(t[6]=l=>a.question_lable=l),onChange:g},null,8,["value"])])]),e("div",dt,[mt,e("div",pt,[o(z,{placeholder:"请输入标识符",value:a.answer_lable,"onUpdate:value":t[7]||(t[7]=l=>a.answer_lable=l),onChange:g},null,8,["value"])])])]),_:1}),vt,e("div",ft,[e("div",{class:V(["list-item",{active:a.qa_index_type==1}]),onClick:t[8]||(t[8]=l=>F(1))},[o(h,{class:"check-icon",name:"check-arrow-filled"}),e("div",gt,[o(h,{name:"file-search"}),I(" 问题与答案一起生成索引 ")]),ht],2),e("div",{class:V(["list-item",{active:a.qa_index_type==2}]),onClick:t[9]||(t[9]=l=>F(2))},[o(h,{class:"check-icon",name:"check-arrow-filled"}),e("div",bt,[o(h,{name:"comment-search"}),I(" 仅对问题生成索引 ")]),yt],2)])]))],64)):(c(),m(L,{key:2},[_.mode!=1?(c(),m("div",kt,[e("div",xt,[qt,e("div",wt,[o(p,{placeholder:"请选择",style:{width:"100%"},mode:"multiple",value:a.separators_no,"onUpdate:value":t[10]||(t[10]=l=>a.separators_no=l),onChange:g},{default:u(()=>[(c(!0),m(L,null,A(C.value,l=>(c(),M(r,{value:l.no,key:l.no},{default:u(()=>[I(S(l.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),o(f,{gap:16},{default:u(()=>[e("div",$t,[Ft,e("div",It,[o(f,{align:"center",gap:8},{default:u(()=>[o(Q,{style:{flex:"1"},value:a.chunk_size,"onUpdate:value":t[11]||(t[11]=l=>a.chunk_size=l),placeholder:"分段最大长度",min:200,max:2e3,precision:0,formatter:l=>parseInt(l),parser:l=>parseInt(l),onChange:g},null,8,["value","formatter","parser"]),St]),_:1})])]),e("div",Pt,[Ct,e("div",Et,[o(f,{align:"center",gap:8},{default:u(()=>[o(Q,{style:{flex:"1"},value:a.chunk_overlap,"onUpdate:value":t[12]||(t[12]=l=>a.chunk_overlap=l),placeholder:"分段重叠长度",min:0,formatter:l=>parseInt(l),parser:l=>parseInt(l),onChange:g},null,8,["value","formatter","parser"]),Lt]),_:1})])])]),_:1})])):B("",!0)],64))])])])])}}},Nt=X(Tt,[["__scopeId","data-v-18753e27"]]),Ut={class:"document-fragment"},jt={class:"fragment-header"},Ot={class:"fragment-info"},zt={class:"fragment-number"},Dt={key:0,class:"fragment-title"},Bt={class:"fragment-content-lenght"},Qt={class:"fragment-action"},Rt={class:"fragment-content"},At={key:0,class:"fragment-content"},Vt={key:1,class:"fragment-content"},Mt={class:"fragment-img"},Kt=["src"],Jt={__name:"document-fragment",props:{number:{type:[Number,String]},total:{type:[Number,String]},title:{type:[Number,String]},content:{type:[Number,String]},question:{type:[Number,String]},answer:{type:[Number,String]},images:{type:[Array,String]}},emits:["edit","delete"],setup(q,{emit:T}){const P=T,d=q,_=()=>{P("edit")},a=()=>{P("delete")};return(w,i)=>{const N=Ue,R=be("viewer");return c(),m("div",Ut,[e("div",jt,[e("div",Ot,[e("span",zt,"#"+S(d.number),1),d.title?(c(),m("span",Dt,S(d.title),1)):B("",!0),e("span",Bt,"共"+S(d.total)+"个字符",1)]),e("div",Qt,[e("a",{onClick:_},"编辑"),o(N,{type:"vertical"}),e("a",{onClick:a},"删除")])]),e("div",Rt,S(d.content),1),d.question?(c(),m("div",At,"Q："+S(d.question),1)):B("",!0),d.answer?(c(),m("div",Vt,"A："+S(d.answer),1)):B("",!0),ye((c(),m("div",Mt,[(c(!0),m(L,null,A(d.images,(U,$)=>(c(),m("img",{key:$,src:U,alt:""},null,8,Kt))),128))])),[[R]])])}}},Wt=X(Jt,[["__scopeId","data-v-3a2afee8"]]),Xt={class:"upload-box-wrapper"},Yt={key:0},Gt={__name:"edit-fragment-alert",emits:["ok"],setup(q,{expose:T,emit:P}){const d=P,_=x("1"),a=te.useForm,w=x(!1),i=W({title:"",content:"",question:"",answer:"",images:[]}),N=W({content:[{message:"请输入分段内容",validator:async(F,n)=>g.value||n?Promise.resolve():Promise.reject("请输入分段内容")}],question:[{message:"请输入分段问题",validator:async(F,n)=>g.value?n?Promise.resolve():Promise.reject("请输入分段问题"):Promise.resolve()}],answer:[{message:"请输入分段答案",validator:async(F,n)=>g.value?n?Promise.resolve():Promise.reject("请输入分段答案"):Promise.resolve()}]}),{resetFields:R,validate:U,validateInfos:$}=a(i,N),g=x(!1),C=({title:F,content:n,question:t,answer:r,images:p})=>{i.title=F,i.content=n,i.question=t,i.answer=r,i.images=p||[],g.value=t!="",w.value=!0},O=()=>{U().then(()=>{w.value=!1,d("ok",re(i))})};return T({open:C}),(F,n)=>{const t=_e,r=Ce,p=De,h=ce,z=Oe,f=ze,Q=te,l=J;return c(),m("div",null,[o(l,{open:w.value,"onUpdate:open":n[6]||(n[6]=k=>w.value=k),title:"编辑分段",onOk:O,width:"746px"},{default:u(()=>[o(Q,{layout:"vertical"},{default:u(()=>[o(r,{label:"分段标题："},{default:u(()=>[o(t,{type:"text",placeholder:"请输入分段标题",value:i.title,"onUpdate:value":n[0]||(n[0]=k=>i.title=k)},null,8,["value"])]),_:1}),g.value?(c(),m(L,{key:0},[o(r,Z({label:"分段问题："},K($).question),{default:u(()=>[o(p,{placeholder:"请输入分段问题",value:i.question,"onUpdate:value":n[1]||(n[1]=k=>i.question=k),style:{height:"100px"}},null,8,["value"])]),_:1},16),o(r,Z({label:"分段答案："},K($).answer),{default:u(()=>[o(p,{placeholder:"请输入分段答案",value:i.answer,"onUpdate:value":n[2]||(n[2]=k=>i.answer=k),style:{height:"140px"}},null,8,["value"])]),_:1},16)],64)):(c(),M(r,Z({key:1,label:"分段内容："},K($).content),{default:u(()=>[o(p,{placeholder:"请输入分段内容",value:i.content,"onUpdate:value":n[3]||(n[3]=k=>i.content=k),style:{height:"150px"}},null,8,["value"])]),_:1},16)),o(r,{label:"附件"},{default:u(()=>[e("div",Xt,[o(f,{activeKey:_.value,"onUpdate:activeKey":n[4]||(n[4]=k=>_.value=k),size:"small"},{default:u(()=>[o(z,{key:"1"},{tab:u(()=>[e("span",null,[o(h,{name:"img-icon",style:{"font-size":"14px",color:"#2475fc"}}),I(" 图片 "),i.images.length?(c(),m("span",Yt,"("+S(i.images.length)+")",1)):B("",!0)])]),_:1})]),_:1},8,["activeKey"]),o(je,{value:i.images,"onUpdate:value":n[5]||(n[5]=k=>i.images=k)},null,8,["value"])])]),_:1})]),_:1})]),_:1},8,["open"])])}}},Ht=X(Gt,[["__scopeId","data-v-6df5439f"]]),ue=q=>(le("data-v-49d54578"),q=q(),ie(),q),Zt={key:0,class:"loading-wrap"},eo={class:"document-segmentation"},to={class:"breadcrumb-block"},oo={class:"page-title"},ao=ue(()=>e("span",{class:"title"},"文档分段与清洗",-1)),so={class:"page-container"},no={class:"page-left"},lo={class:"page-right"},io={class:"document-fragment-preview"},ro={class:"preview-header"},co=ue(()=>e("span",{class:"label-text"},"分段预览",-1)),_o={class:"fragment-number"},uo={class:"footer-btn-box"},mo={__name:"document-segmentation",setup(q){const T=ke(),P=xe(),{document_id:d}=T.query,_=x(!0),a=x(1);let w=!1,i={id:d,separators_no:"",chunk_size:512,chunk_overlap:50,is_qa_doc:0,question_lable:"",answer_lable:"",enable_extract_image:!0},N=!1;const R=s=>{typeof s.separators_no=="object"&&(s.separators_no=s.separators_no.join(",")),N=!0,i={...i,...s},w?J.confirm({title:"提醒",icon:o(ne),content:"文档片段已被编辑重新获取文档片段会丢失当前修改过的文档片段内容，确定要重新获取吗？",okText:"确定",okType:"danger",cancelText:"取消",onOk(){w=!1,h()},onCancel(){}}):(w=!1,h())};let U=60*10,$=0,g=null;const C=x({}),O=x(0),F=()=>{_.value||(_.value=!0),Fe({id:d}).then(async s=>{const{status:v}=s.data;if(O.value=s.data.library_type,C.value=s.data,i={...i,separators_no:s.data.separators_no||"11,12",chunk_size:+s.data.chunk_size||512,chunk_overlap:+s.data.chunk_overlap||50,is_qa_doc:O.value==2?1:0,question_lable:s.data.question_lable,answer_lable:s.data.answer_lable,question_column:s.data.question_column,answer_column:s.data.answer_column,enable_extract_image:s.data.enable_extract_image=="true",qa_index_type:+s.data.qa_index_type},v==0){if($++,$>U){J.error({title:"提醒",content:"文档解析速度慢请稍后再试"});return}setTimeout(()=>{F()},1e3)}else v==4||v==2?(_.value=!1,a.value=parseInt(s.data.is_table_file),g=s.data.library_id,O.value==2?(i.question_lable||i.question_column)&&h():h()):P.replace("/library/details?id="+s.data.library_id);s.data.is_table_file==1&&t()})};F();const n=x([]),t=()=>{Ie({id:d}).then(s=>{let v=[];for(let b in s.data)v.push({lable:s.data[b],value:b});n.value=v})},r=x([]),p=x(0),h=()=>{Se(i).then(s=>{r.value=s.data.list||[],p.value=s.data.list.length||0})},z=x(null);let f=null;const Q=({title:s,content:v,question:b,answer:j,images:D},H)=>{f=H,z.value.open({title:s,content:v,question:b,answer:j,images:D})},l=({title:s,content:v,question:b,answer:j,images:D})=>{(r.value[f].title!=s||r.value[f].content!=v||r.value[f].question!=b||r.value[f].answer!=j)&&(w=!0),r.value[f].title=s,r.value[f].content=v,r.value[f].question=b,r.value[f].answer=j,r.value[f].images=D,r.value[f].word_total=j.length+b.length+v.length},k=s=>{J.confirm({title:"提醒",icon:o(ne),content:"确定要删除这个片段吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk(){w=!0,r.value.splice(s,1)},onCancel(){}})},Y=x(""),de=s=>{Y.value=s},G=x(!1),me=()=>{if(Y.value)return ee.error(Y.value);let s={...i,is_table_file:a.value};delete s.id;let v={id:d,word_total:p.value,split_params:JSON.stringify(s),list:JSON.stringify(r.value)};s.is_qa_doc==1&&(v.qa_index_type=s.qa_index_type),G.value=!0,Pe(v).then(()=>{if(ee.success("保存成功"),T.query.source=="preview"&&!N){ae();return}P.replace("/library/details?id="+g)}).finally(()=>{G.value=!1}).catch(b=>{b.data&&b.data.index&&pe(b.data.index)})},oe=x(null),pe=s=>{s=s-1;let v=oe.value.querySelectorAll(".fragment-item");v.length>=s&&v[s].scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},ae=()=>{P.back()};return(s,v)=>{const b=Re,j=qe("router-link"),D=Qe,H=Be,ve=we;return c(),m(L,null,[_.value?(c(),m("div",Zt,[o(b)])):B("",!0),e("div",eo,[e("div",to,[o(H,null,{default:u(()=>[o(D,null,{default:u(()=>[o(j,{to:"/library/list"},{default:u(()=>[I(" 知识库管理 ")]),_:1})]),_:1}),o(D,null,{default:u(()=>[o(j,{to:{path:"/library/details/knowledge-document",query:{id:C.value.library_id}}},{default:u(()=>[I(S(C.value.library_name)+"知识库",1)]),_:1},8,["to"])]),_:1}),o(D,null,{default:u(()=>[I("分段设置")]),_:1})]),_:1})]),e("div",oo,[o(K(Ae),{onClick:ae}),ao]),e("div",so,[e("div",no,[o(Nt,{excellQaLists:n.value,libFileInfo:C.value,library_type:O.value,mode:a.value,onChange:R,onValidate:de},null,8,["excellQaLists","libFileInfo","library_type","mode"])]),e("div",lo,[e("div",io,[e("div",ro,[co,e("span",_o,"共"+S(p.value)+"个分段",1)]),e("div",{class:"preview-box",ref_key:"previewBoxRef",ref:oe},[(c(!0),m(L,null,A(r.value,(E,se)=>(c(),m("div",{class:"fragment-item",key:E.number},[o(Wt,{number:E.number,title:E.title,content:E.content,total:E.word_total,question:E.question,answer:E.answer,images:E.images,onDelete:fe=>k(se),onEdit:fe=>Q(E,se)},null,8,["number","title","content","total","question","answer","images","onDelete","onEdit"])]))),128))],512)])])]),e("div",uo,[o(ve,{type:"primary",loading:G.value,onClick:me},{default:u(()=>[I("保存")]),_:1},8,["loading"])]),o(Ht,{ref_key:"editFragmentAlertRef",ref:z,onOk:l},null,512)])],64)}}},ua=X(mo,[["__scopeId","data-v-49d54578"]]);export{ua as default};
