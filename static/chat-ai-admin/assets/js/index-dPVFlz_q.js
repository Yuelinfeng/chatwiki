var Sn=Object.defineProperty;var An=(e,t,o)=>t in e?Sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var tt=(e,t,o)=>(An(e,typeof t!="symbol"?t+"":t,o),o);import{j as y,r as Q,L as J,M as X,V as g,S as Rt,a6 as St,Y as ut,Q as B,a as En,v as $n,a4 as Bn,a8 as Dt,w as gt,A as Et,X as W,u as nt,U as Te,P as $t,a9 as Bt,a0 as he,a1 as fe,b as Ot,F as Me,_ as Pn,a5 as ne,p as In,aa as Tn}from"./vue-chunks-Be7x44a8.js";import{u as Vt}from"./robot-Vrmn2jwC.js";import{A as Mn,b as rt,X as Nn,Z as Rn,k as lt,M as Ne,E as Ln,d as ge,B as Ht,bf as Fe}from"../../index-DrRzkLrM.js";import{M as xn}from"./index-KF-GLyjX.js";import{j as Un,u as Fn,k as Dn,l as On,m as Vn,n as De}from"./index-DoA-1VYy.js";import{u as Oe}from"./index-B3BARGoX.js";import{C as Ve,E as Hn}from"./cu-upload-Dn6KXBy_.js";import"./index-CA_jlLpR.js";import{I as jt}from"./Input-BoEXW7Ed.js";import{i as jn}from"./validate-8MtiUsxW.js";import{d as zn}from"./vuedraggable.umd-B5M3d8VI.js";import{F as Pt,_ as me}from"./index-DiumbRRT.js";import{_ as Kn}from"./index-DrTRCjJ-.js";import"./index-DLT3QCQZ.js";import{R as He,_ as je}from"./RadioButton-_CwniGKN.js";import{Q as qn}from"./QuestionCircleOutlined-C1VUeDko.js";import{_ as ze}from"./index-DmIygWCJ.js";import{_ as Ke}from"./TextArea-CnprCuXF.js";import{_ as Jn}from"./index-oRdc9kyy.js";import{S as _e,_ as ve}from"./index-olzhrUzL.js";import{R as Yn}from"./RightOutlined-DqgahkKm.js";import{P as Wn}from"./PlusOutlined-BjJbDYD_.js";import{_ as Qn}from"./index-B4_Ve-Su.js";import"./axios-Cm0UX6qg.js";import"./qs-DBZYvUeR.js";import"./crypto-js-5KTNdlTg.js";import"./dayjs-B2GD4xRt.js";import"./shallowequal-COOgl3QP.js";import"./Trigger-QcvDPnyC.js";import"./collapseMotion-D9n-d2nt.js";import"./slide-C3j77thT.js";import"./index-BFFBEz-T.js";import"./FormItemContext-DlzjcwaL.js";import"./index-DtPUy1JV.js";import"./Search-Bp_yeyzm.js";import"./SearchOutlined-CH2PxTj7.js";import"./isPlainObject-BILoaqPQ.js";import"./inputProps-D4I2pN7C.js";import"./Password-B58O6Jw3.js";import"./statusUtils-BM8Tk6m7.js";import"./responsiveObserve-Ca0NCZ8D.js";import"./colors-CGmsXzSB.js";import"./CheckOutlined-CoztOWtC.js";import"./DownOutlined-Cp0vVtPD.js";import"./move-D51iXHK1.js";import"./UpOutlined-BEHaof9n.js";var Gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"message",theme:"outlined"};const Xn=Gn;function Re(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(o).filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable}))),i.forEach(function(s){Zn(e,s,o[s])})}return e}function Zn(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var ye=function(t,o){var i=Re({},t,o.attrs);return y(Mn,Re({},i,{icon:Xn}),null)};ye.displayName="MessageOutlined";ye.inheritAttrs=!1;const to=ye,eo={class:"top-menu-box"},no={__name:"top-meun",props:{value:{type:String,default:""}},emits:["change","update:value"],setup(e,{emit:t}){const o=t,s=Q([e.value]),n=Q([{key:"WebAPP",id:"WebAPP",label:"WebAPP",title:"WebAPP"},{key:"EmbedWebsite",id:"EmbedWebsite",label:"嵌入网站",title:"嵌入网站"}]),a=({item:c})=>{s.value.includes(c.id)||(o("update:value",c.id),o("change",c))};return(c,l)=>{const v=xn;return J(),X("div",eo,[y(v,{class:"top-menu",items:n.value,selectedKeys:s.value,"onUpdate:selectedKeys":l[0]||(l[0]=b=>s.value=b),mode:"horizontal",onClick:a},null,8,["items","selectedKeys"])])}}},oo=rt(no,[["__scopeId","data-v-4ee5ac98"]]);var Tt={},so=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qe={},st={};let be;const io=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];st.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};st.getSymbolTotalCodewords=function(t){return io[t]};st.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};st.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');be=t};st.isKanjiModeEnabled=function(){return typeof be<"u"};st.toSJIS=function(t){return be(t)};var zt={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+o)}}e.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},e.from=function(i,s){if(e.isValid(i))return i;try{return t(i)}catch{return s}}})(zt);function Je(){this.buffer=[],this.length=0}Je.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let o=0;o<t;o++)this.putBit((e>>>t-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ro=Je;function Mt(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Mt.prototype.set=function(e,t,o,i){const s=e*this.size+t;this.data[s]=o,i&&(this.reservedBit[s]=!0)};Mt.prototype.get=function(e,t){return this.data[e*this.size+t]};Mt.prototype.xor=function(e,t,o){this.data[e*this.size+t]^=o};Mt.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var ao=Mt,Ye={};(function(e){const t=st.getSymbolSize;e.getRowColCoords=function(i){if(i===1)return[];const s=Math.floor(i/7)+2,n=t(i),a=n===145?26:Math.ceil((n-13)/(2*s-2))*2,c=[n-7];for(let l=1;l<s-1;l++)c[l]=c[l-1]-a;return c.push(6),c.reverse()},e.getPositions=function(i){const s=[],n=e.getRowColCoords(i),a=n.length;for(let c=0;c<a;c++)for(let l=0;l<a;l++)c===0&&l===0||c===0&&l===a-1||c===a-1&&l===0||s.push([n[c],n[l]]);return s}})(Ye);var We={};const lo=st.getSymbolSize,Le=7;We.getPositions=function(t){const o=lo(t);return[[0,0],[o-Le,0],[0,o-Le]]};var Qe={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const n=s.size;let a=0,c=0,l=0,v=null,b=null;for(let I=0;I<n;I++){c=l=0,v=b=null;for(let E=0;E<n;E++){let C=s.get(I,E);C===v?c++:(c>=5&&(a+=t.N1+(c-5)),v=C,c=1),C=s.get(E,I),C===b?l++:(l>=5&&(a+=t.N1+(l-5)),b=C,l=1)}c>=5&&(a+=t.N1+(c-5)),l>=5&&(a+=t.N1+(l-5))}return a},e.getPenaltyN2=function(s){const n=s.size;let a=0;for(let c=0;c<n-1;c++)for(let l=0;l<n-1;l++){const v=s.get(c,l)+s.get(c,l+1)+s.get(c+1,l)+s.get(c+1,l+1);(v===4||v===0)&&a++}return a*t.N2},e.getPenaltyN3=function(s){const n=s.size;let a=0,c=0,l=0;for(let v=0;v<n;v++){c=l=0;for(let b=0;b<n;b++)c=c<<1&2047|s.get(v,b),b>=10&&(c===1488||c===93)&&a++,l=l<<1&2047|s.get(b,v),b>=10&&(l===1488||l===93)&&a++}return a*t.N3},e.getPenaltyN4=function(s){let n=0;const a=s.data.length;for(let l=0;l<a;l++)n+=s.data[l];return Math.abs(Math.ceil(n*100/a/5)-10)*t.N4};function o(i,s,n){switch(i){case e.Patterns.PATTERN000:return(s+n)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return n%3===0;case e.Patterns.PATTERN011:return(s+n)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(n/3))%2===0;case e.Patterns.PATTERN101:return s*n%2+s*n%3===0;case e.Patterns.PATTERN110:return(s*n%2+s*n%3)%2===0;case e.Patterns.PATTERN111:return(s*n%3+(s+n)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}e.applyMask=function(s,n){const a=n.size;for(let c=0;c<a;c++)for(let l=0;l<a;l++)n.isReserved(l,c)||n.xor(l,c,o(s,l,c))},e.getBestMask=function(s,n){const a=Object.keys(e.Patterns).length;let c=0,l=1/0;for(let v=0;v<a;v++){n(v),e.applyMask(v,s);const b=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(v,s),b<l&&(l=b,c=v)}return c}})(Qe);var Kt={};const ct=zt,Lt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],xt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Kt.getBlocksCount=function(t,o){switch(o){case ct.L:return Lt[(t-1)*4+0];case ct.M:return Lt[(t-1)*4+1];case ct.Q:return Lt[(t-1)*4+2];case ct.H:return Lt[(t-1)*4+3];default:return}};Kt.getTotalCodewordsCount=function(t,o){switch(o){case ct.L:return xt[(t-1)*4+0];case ct.M:return xt[(t-1)*4+1];case ct.Q:return xt[(t-1)*4+2];case ct.H:return xt[(t-1)*4+3];default:return}};var Ge={},qt={};const At=new Uint8Array(512),Ut=new Uint8Array(256);(function(){let t=1;for(let o=0;o<255;o++)At[o]=t,Ut[t]=o,t<<=1,t&256&&(t^=285);for(let o=255;o<512;o++)At[o]=At[o-255]})();qt.log=function(t){if(t<1)throw new Error("log("+t+")");return Ut[t]};qt.exp=function(t){return At[t]};qt.mul=function(t,o){return t===0||o===0?0:At[Ut[t]+Ut[o]]};(function(e){const t=qt;e.mul=function(i,s){const n=new Uint8Array(i.length+s.length-1);for(let a=0;a<i.length;a++)for(let c=0;c<s.length;c++)n[a+c]^=t.mul(i[a],s[c]);return n},e.mod=function(i,s){let n=new Uint8Array(i);for(;n.length-s.length>=0;){const a=n[0];for(let l=0;l<s.length;l++)n[l]^=t.mul(s[l],a);let c=0;for(;c<n.length&&n[c]===0;)c++;n=n.slice(c)}return n},e.generateECPolynomial=function(i){let s=new Uint8Array([1]);for(let n=0;n<i;n++)s=e.mul(s,new Uint8Array([1,t.exp(n)]));return s}})(Ge);const Xe=Ge;function we(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}we.prototype.initialize=function(t){this.degree=t,this.genPoly=Xe.generateECPolynomial(this.degree)};we.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(t.length+this.degree);o.set(t);const i=Xe.mod(o,this.genPoly),s=this.degree-i.length;if(s>0){const n=new Uint8Array(this.degree);return n.set(i,s),n}return i};var co=we,Ze={},dt={},Ce={};Ce.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var at={};const tn="[0-9]+",uo="[A-Z $%*+\\-./:]+";let It="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";It=It.replace(/u/g,"\\u");const po="(?:(?![A-Z0-9 $%*+\\-./:]|"+It+`)(?:.|[\r
]))+`;at.KANJI=new RegExp(It,"g");at.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");at.BYTE=new RegExp(po,"g");at.NUMERIC=new RegExp(tn,"g");at.ALPHANUMERIC=new RegExp(uo,"g");const ho=new RegExp("^"+It+"$"),fo=new RegExp("^"+tn+"$"),go=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");at.testKanji=function(t){return ho.test(t)};at.testNumeric=function(t){return fo.test(t)};at.testAlphanumeric=function(t){return go.test(t)};(function(e){const t=Ce,o=at;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(n,a){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?n.ccBits[0]:a<27?n.ccBits[1]:n.ccBits[2]},e.getBestModeForData=function(n){return o.testNumeric(n)?e.NUMERIC:o.testAlphanumeric(n)?e.ALPHANUMERIC:o.testKanji(n)?e.KANJI:e.BYTE},e.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},e.isValid=function(n){return n&&n.bit&&n.ccBits};function i(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(n,a){if(e.isValid(n))return n;try{return i(n)}catch{return a}}})(dt);(function(e){const t=st,o=Kt,i=zt,s=dt,n=Ce,a=7973,c=t.getBCHDigit(a);function l(E,C,S){for(let N=1;N<=40;N++)if(C<=e.getCapacity(N,S,E))return N}function v(E,C){return s.getCharCountIndicator(E,C)+4}function b(E,C){let S=0;return E.forEach(function(N){const $=v(N.mode,C);S+=$+N.getBitsLength()}),S}function I(E,C){for(let S=1;S<=40;S++)if(b(E,S)<=e.getCapacity(S,C,s.MIXED))return S}e.from=function(C,S){return n.isValid(C)?parseInt(C,10):S},e.getCapacity=function(C,S,N){if(!n.isValid(C))throw new Error("Invalid QR Code version");typeof N>"u"&&(N=s.BYTE);const $=t.getSymbolTotalCodewords(C),A=o.getTotalCodewordsCount(C,S),L=($-A)*8;if(N===s.MIXED)return L;const T=L-v(N,C);switch(N){case s.NUMERIC:return Math.floor(T/10*3);case s.ALPHANUMERIC:return Math.floor(T/11*2);case s.KANJI:return Math.floor(T/13);case s.BYTE:default:return Math.floor(T/8)}},e.getBestVersionForData=function(C,S){let N;const $=i.from(S,i.M);if(Array.isArray(C)){if(C.length>1)return I(C,$);if(C.length===0)return 1;N=C[0]}else N=C;return l(N.mode,N.getLength(),$)},e.getEncodedBits=function(C){if(!n.isValid(C)||C<7)throw new Error("Invalid QR Code version");let S=C<<12;for(;t.getBCHDigit(S)-c>=0;)S^=a<<t.getBCHDigit(S)-c;return C<<12|S}})(Ze);var en={};const le=st,nn=1335,mo=21522,xe=le.getBCHDigit(nn);en.getEncodedBits=function(t,o){const i=t.bit<<3|o;let s=i<<10;for(;le.getBCHDigit(s)-xe>=0;)s^=nn<<le.getBCHDigit(s)-xe;return(i<<10|s)^mo};var on={};const _o=dt;function mt(e){this.mode=_o.NUMERIC,this.data=e.toString()}mt.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};mt.prototype.getLength=function(){return this.data.length};mt.prototype.getBitsLength=function(){return mt.getBitsLength(this.data.length)};mt.prototype.write=function(t){let o,i,s;for(o=0;o+3<=this.data.length;o+=3)i=this.data.substr(o,3),s=parseInt(i,10),t.put(s,10);const n=this.data.length-o;n>0&&(i=this.data.substr(o),s=parseInt(i,10),t.put(s,n*3+1))};var vo=mt;const yo=dt,oe=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function _t(e){this.mode=yo.ALPHANUMERIC,this.data=e}_t.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};_t.prototype.getLength=function(){return this.data.length};_t.prototype.getBitsLength=function(){return _t.getBitsLength(this.data.length)};_t.prototype.write=function(t){let o;for(o=0;o+2<=this.data.length;o+=2){let i=oe.indexOf(this.data[o])*45;i+=oe.indexOf(this.data[o+1]),t.put(i,11)}this.data.length%2&&t.put(oe.indexOf(this.data[o]),6)};var bo=_t,wo=function(t){for(var o=[],i=t.length,s=0;s<i;s++){var n=t.charCodeAt(s);if(n>=55296&&n<=56319&&i>s+1){var a=t.charCodeAt(s+1);a>=56320&&a<=57343&&(n=(n-55296)*1024+a-56320+65536,s+=1)}if(n<128){o.push(n);continue}if(n<2048){o.push(n>>6|192),o.push(n&63|128);continue}if(n<55296||n>=57344&&n<65536){o.push(n>>12|224),o.push(n>>6&63|128),o.push(n&63|128);continue}if(n>=65536&&n<=1114111){o.push(n>>18|240),o.push(n>>12&63|128),o.push(n>>6&63|128),o.push(n&63|128);continue}o.push(239,191,189)}return new Uint8Array(o).buffer};const Co=wo,ko=dt;function vt(e){this.mode=ko.BYTE,typeof e=="string"&&(e=Co(e)),this.data=new Uint8Array(e)}vt.getBitsLength=function(t){return t*8};vt.prototype.getLength=function(){return this.data.length};vt.prototype.getBitsLength=function(){return vt.getBitsLength(this.data.length)};vt.prototype.write=function(e){for(let t=0,o=this.data.length;t<o;t++)e.put(this.data[t],8)};var So=vt;const Ao=dt,Eo=st;function yt(e){this.mode=Ao.KANJI,this.data=e}yt.getBitsLength=function(t){return t*13};yt.prototype.getLength=function(){return this.data.length};yt.prototype.getBitsLength=function(){return yt.getBitsLength(this.data.length)};yt.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let o=Eo.toSJIS(this.data[t]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),e.put(o,13)}};var $o=yt,sn={exports:{}};(function(e){var t={single_source_shortest_paths:function(o,i,s){var n={},a={};a[i]=0;var c=t.PriorityQueue.make();c.push(i,0);for(var l,v,b,I,E,C,S,N,$;!c.empty();){l=c.pop(),v=l.value,I=l.cost,E=o[v]||{};for(b in E)E.hasOwnProperty(b)&&(C=E[b],S=I+C,N=a[b],$=typeof a[b]>"u",($||N>S)&&(a[b]=S,c.push(b,S),n[b]=v))}if(typeof s<"u"&&typeof a[s]>"u"){var A=["Could not find a path from ",i," to ",s,"."].join("");throw new Error(A)}return n},extract_shortest_path_from_predecessor_list:function(o,i){for(var s=[],n=i;n;)s.push(n),o[n],n=o[n];return s.reverse(),s},find_path:function(o,i,s){var n=t.single_source_shortest_paths(o,i,s);return t.extract_shortest_path_from_predecessor_list(n,s)},PriorityQueue:{make:function(o){var i=t.PriorityQueue,s={},n;o=o||{};for(n in i)i.hasOwnProperty(n)&&(s[n]=i[n]);return s.queue=[],s.sorter=o.sorter||i.default_sorter,s},default_sorter:function(o,i){return o.cost-i.cost},push:function(o,i){var s={value:o,cost:i};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(sn);var Bo=sn.exports;(function(e){const t=dt,o=vo,i=bo,s=So,n=$o,a=at,c=st,l=Bo;function v(A){return unescape(encodeURIComponent(A)).length}function b(A,L,T){const k=[];let R;for(;(R=A.exec(T))!==null;)k.push({data:R[0],index:R.index,mode:L,length:R[0].length});return k}function I(A){const L=b(a.NUMERIC,t.NUMERIC,A),T=b(a.ALPHANUMERIC,t.ALPHANUMERIC,A);let k,R;return c.isKanjiModeEnabled()?(k=b(a.BYTE,t.BYTE,A),R=b(a.KANJI,t.KANJI,A)):(k=b(a.BYTE_KANJI,t.BYTE,A),R=[]),L.concat(T,k,R).sort(function(z,q){return z.index-q.index}).map(function(z){return{data:z.data,mode:z.mode,length:z.length}})}function E(A,L){switch(L){case t.NUMERIC:return o.getBitsLength(A);case t.ALPHANUMERIC:return i.getBitsLength(A);case t.KANJI:return n.getBitsLength(A);case t.BYTE:return s.getBitsLength(A)}}function C(A){return A.reduce(function(L,T){const k=L.length-1>=0?L[L.length-1]:null;return k&&k.mode===T.mode?(L[L.length-1].data+=T.data,L):(L.push(T),L)},[])}function S(A){const L=[];for(let T=0;T<A.length;T++){const k=A[T];switch(k.mode){case t.NUMERIC:L.push([k,{data:k.data,mode:t.ALPHANUMERIC,length:k.length},{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.ALPHANUMERIC:L.push([k,{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.KANJI:L.push([k,{data:k.data,mode:t.BYTE,length:v(k.data)}]);break;case t.BYTE:L.push([{data:k.data,mode:t.BYTE,length:v(k.data)}])}}return L}function N(A,L){const T={},k={start:{}};let R=["start"];for(let D=0;D<A.length;D++){const z=A[D],q=[];for(let j=0;j<z.length;j++){const F=z[j],U=""+D+j;q.push(U),T[U]={node:F,lastCount:0},k[U]={};for(let et=0;et<R.length;et++){const Y=R[et];T[Y]&&T[Y].node.mode===F.mode?(k[Y][U]=E(T[Y].lastCount+F.length,F.mode)-E(T[Y].lastCount,F.mode),T[Y].lastCount+=F.length):(T[Y]&&(T[Y].lastCount=F.length),k[Y][U]=E(F.length,F.mode)+4+t.getCharCountIndicator(F.mode,L))}}R=q}for(let D=0;D<R.length;D++)k[R[D]].end=0;return{map:k,table:T}}function $(A,L){let T;const k=t.getBestModeForData(A);if(T=t.from(L,k),T!==t.BYTE&&T.bit<k.bit)throw new Error('"'+A+'" cannot be encoded with mode '+t.toString(T)+`.
 Suggested mode is: `+t.toString(k));switch(T===t.KANJI&&!c.isKanjiModeEnabled()&&(T=t.BYTE),T){case t.NUMERIC:return new o(A);case t.ALPHANUMERIC:return new i(A);case t.KANJI:return new n(A);case t.BYTE:return new s(A)}}e.fromArray=function(L){return L.reduce(function(T,k){return typeof k=="string"?T.push($(k,null)):k.data&&T.push($(k.data,k.mode)),T},[])},e.fromString=function(L,T){const k=I(L,c.isKanjiModeEnabled()),R=S(k),D=N(R,T),z=l.find_path(D.map,"start","end"),q=[];for(let j=1;j<z.length-1;j++)q.push(D.table[z[j]].node);return e.fromArray(C(q))},e.rawSplit=function(L){return e.fromArray(I(L,c.isKanjiModeEnabled()))}})(on);const Jt=st,se=zt,Po=ro,Io=ao,To=Ye,Mo=We,ce=Qe,ue=Kt,No=co,Ft=Ze,Ro=en,Lo=dt,ie=on;function xo(e,t){const o=e.size,i=Mo.getPositions(t);for(let s=0;s<i.length;s++){const n=i[s][0],a=i[s][1];for(let c=-1;c<=7;c++)if(!(n+c<=-1||o<=n+c))for(let l=-1;l<=7;l++)a+l<=-1||o<=a+l||(c>=0&&c<=6&&(l===0||l===6)||l>=0&&l<=6&&(c===0||c===6)||c>=2&&c<=4&&l>=2&&l<=4?e.set(n+c,a+l,!0,!0):e.set(n+c,a+l,!1,!0))}}function Uo(e){const t=e.size;for(let o=8;o<t-8;o++){const i=o%2===0;e.set(o,6,i,!0),e.set(6,o,i,!0)}}function Fo(e,t){const o=To.getPositions(t);for(let i=0;i<o.length;i++){const s=o[i][0],n=o[i][1];for(let a=-2;a<=2;a++)for(let c=-2;c<=2;c++)a===-2||a===2||c===-2||c===2||a===0&&c===0?e.set(s+a,n+c,!0,!0):e.set(s+a,n+c,!1,!0)}}function Do(e,t){const o=e.size,i=Ft.getEncodedBits(t);let s,n,a;for(let c=0;c<18;c++)s=Math.floor(c/3),n=c%3+o-8-3,a=(i>>c&1)===1,e.set(s,n,a,!0),e.set(n,s,a,!0)}function re(e,t,o){const i=e.size,s=Ro.getEncodedBits(t,o);let n,a;for(n=0;n<15;n++)a=(s>>n&1)===1,n<6?e.set(n,8,a,!0):n<8?e.set(n+1,8,a,!0):e.set(i-15+n,8,a,!0),n<8?e.set(8,i-n-1,a,!0):n<9?e.set(8,15-n-1+1,a,!0):e.set(8,15-n-1,a,!0);e.set(i-8,8,1,!0)}function Oo(e,t){const o=e.size;let i=-1,s=o-1,n=7,a=0;for(let c=o-1;c>0;c-=2)for(c===6&&c--;;){for(let l=0;l<2;l++)if(!e.isReserved(s,c-l)){let v=!1;a<t.length&&(v=(t[a]>>>n&1)===1),e.set(s,c-l,v),n--,n===-1&&(a++,n=7)}if(s+=i,s<0||o<=s){s-=i,i=-i;break}}}function Vo(e,t,o){const i=new Po;o.forEach(function(l){i.put(l.mode.bit,4),i.put(l.getLength(),Lo.getCharCountIndicator(l.mode,e)),l.write(i)});const s=Jt.getSymbolTotalCodewords(e),n=ue.getTotalCodewordsCount(e,t),a=(s-n)*8;for(i.getLengthInBits()+4<=a&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);const c=(a-i.getLengthInBits())/8;for(let l=0;l<c;l++)i.put(l%2?17:236,8);return Ho(i,e,t)}function Ho(e,t,o){const i=Jt.getSymbolTotalCodewords(t),s=ue.getTotalCodewordsCount(t,o),n=i-s,a=ue.getBlocksCount(t,o),c=i%a,l=a-c,v=Math.floor(i/a),b=Math.floor(n/a),I=b+1,E=v-b,C=new No(E);let S=0;const N=new Array(a),$=new Array(a);let A=0;const L=new Uint8Array(e.buffer);for(let z=0;z<a;z++){const q=z<l?b:I;N[z]=L.slice(S,S+q),$[z]=C.encode(N[z]),S+=q,A=Math.max(A,q)}const T=new Uint8Array(i);let k=0,R,D;for(R=0;R<A;R++)for(D=0;D<a;D++)R<N[D].length&&(T[k++]=N[D][R]);for(R=0;R<E;R++)for(D=0;D<a;D++)T[k++]=$[D][R];return T}function jo(e,t,o,i){let s;if(Array.isArray(e))s=ie.fromArray(e);else if(typeof e=="string"){let v=t;if(!v){const b=ie.rawSplit(e);v=Ft.getBestVersionForData(b,o)}s=ie.fromString(e,v||40)}else throw new Error("Invalid data");const n=Ft.getBestVersionForData(s,o);if(!n)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=n;else if(t<n)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+n+`.
`);const a=Vo(t,o,s),c=Jt.getSymbolSize(t),l=new Io(c);return xo(l,t),Uo(l),Fo(l,t),re(l,o,0),t>=7&&Do(l,t),Oo(l,a),isNaN(i)&&(i=ce.getBestMask(l,re.bind(null,l,o))),ce.applyMask(i,l),re(l,o,i),{modules:l,version:t,errorCorrectionLevel:o,maskPattern:i,segments:s}}qe.create=function(t,o){if(typeof t>"u"||t==="")throw new Error("No input text");let i=se.M,s,n;return typeof o<"u"&&(i=se.from(o.errorCorrectionLevel,se.M),s=Ft.from(o.version),n=ce.from(o.maskPattern),o.toSJISFunc&&Jt.setToSJISFunction(o.toSJISFunc)),jo(t,s,i,n)};var rn={},ke={};(function(e){function t(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let i=o.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+o);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(n){return[n,n]}))),i.length===6&&i.push("F","F");const s=parseInt(i.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+i.slice(0,6).join("")}}e.getOptions=function(i){i||(i={}),i.color||(i.color={});const s=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,n=i.width&&i.width>=21?i.width:void 0,a=i.scale||4;return{width:n,scale:n?4:a,margin:s,color:{dark:t(i.color.dark||"#000000ff"),light:t(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},e.getScale=function(i,s){return s.width&&s.width>=i+s.margin*2?s.width/(i+s.margin*2):s.scale},e.getImageWidth=function(i,s){const n=e.getScale(i,s);return Math.floor((i+s.margin*2)*n)},e.qrToImageData=function(i,s,n){const a=s.modules.size,c=s.modules.data,l=e.getScale(a,n),v=Math.floor((a+n.margin*2)*l),b=n.margin*l,I=[n.color.light,n.color.dark];for(let E=0;E<v;E++)for(let C=0;C<v;C++){let S=(E*v+C)*4,N=n.color.light;if(E>=b&&C>=b&&E<v-b&&C<v-b){const $=Math.floor((E-b)/l),A=Math.floor((C-b)/l);N=I[c[$*a+A]?1:0]}i[S++]=N.r,i[S++]=N.g,i[S++]=N.b,i[S]=N.a}}})(ke);(function(e){const t=ke;function o(s,n,a){s.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=a,n.width=a,n.style.height=a+"px",n.style.width=a+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(n,a,c){let l=c,v=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(v=i()),l=t.getOptions(l);const b=t.getImageWidth(n.modules.size,l),I=v.getContext("2d"),E=I.createImageData(b,b);return t.qrToImageData(E.data,n,l),o(I,v,b),I.putImageData(E,0,0),v},e.renderToDataURL=function(n,a,c){let l=c;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const v=e.render(n,a,l),b=l.type||"image/png",I=l.rendererOpts||{};return v.toDataURL(b,I.quality)}})(rn);var an={};const zo=ke;function Ue(e,t){const o=e.a/255,i=t+'="'+e.hex+'"';return o<1?i+" "+t+'-opacity="'+o.toFixed(2).slice(1)+'"':i}function ae(e,t,o){let i=e+t;return typeof o<"u"&&(i+=" "+o),i}function Ko(e,t,o){let i="",s=0,n=!1,a=0;for(let c=0;c<e.length;c++){const l=Math.floor(c%t),v=Math.floor(c/t);!l&&!n&&(n=!0),e[c]?(a++,c>0&&l>0&&e[c-1]||(i+=n?ae("M",l+o,.5+v+o):ae("m",s,0),s=0,n=!1),l+1<t&&e[c+1]||(i+=ae("h",a),a=0)):s++}return i}an.render=function(t,o,i){const s=zo.getOptions(o),n=t.modules.size,a=t.modules.data,c=n+s.margin*2,l=s.color.light.a?"<path "+Ue(s.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",v="<path "+Ue(s.color.dark,"stroke")+' d="'+Ko(a,n,s.margin)+'"/>',b='viewBox="0 0 '+c+" "+c+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+b+' shape-rendering="crispEdges">'+l+v+`</svg>
`;return typeof i=="function"&&i(null,E),E};const qo=so,de=qe,ln=rn,Jo=an;function Se(e,t,o,i,s){const n=[].slice.call(arguments,1),a=n.length,c=typeof n[a-1]=="function";if(!c&&!qo())throw new Error("Callback required as last argument");if(c){if(a<2)throw new Error("Too few arguments provided");a===2?(s=o,o=t,t=i=void 0):a===3&&(t.getContext&&typeof s>"u"?(s=i,i=void 0):(s=i,i=o,o=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(o=t,t=i=void 0):a===2&&!t.getContext&&(i=o,o=t,t=void 0),new Promise(function(l,v){try{const b=de.create(o,i);l(e(b,t,i))}catch(b){v(b)}})}try{const l=de.create(o,i);s(null,e(l,t,i))}catch(l){s(l)}}Tt.create=de.create;Tt.toCanvas=Se.bind(null,ln.render);Tt.toDataURL=Se.bind(null,ln.renderToDataURL);Tt.toString=Se.bind(null,function(e,t,o){return Jo.render(e,o)});const Yo={class:"card-box"},Wo={class:"card-box-header"},Qo={class:"card-title"},Go={key:0,class:"card-icon"},Xo={class:"title-text"},Zo={class:"title-text"},ts={class:"action"},es={class:"card-box-body"},ns={__name:"card-box",props:{title:{type:String,default:""}},setup(e){const t=e;return(o,i)=>(J(),X("div",Yo,[g("div",Wo,[g("div",Qo,[o.$slots.icon?(J(),X("span",Go,[Rt(o.$slots,"icon",{},void 0,!0)])):St("",!0),g("span",Xo,ut(t.title),1),g("span",Zo,[Rt(o.$slots,"title",{},void 0,!0)])]),g("div",ts,[Rt(o.$slots,"action",{},void 0,!0)])]),g("div",es,[Rt(o.$slots,"default",{},void 0,!0)])]))}},bt=rt(ns,[["__scopeId","data-v-13417dcd"]]),os={class:"page-title-input"},ss={class:"upload-logo"},is=["src"],rs={__name:"page-title-input",props:{avatar:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String,default:"请输入标题"},autoUpload:{type:Boolean,default:!0}},emits:["update:value","update:avatar","changeAvatar"],setup(e,{emit:t}){const o=t,i=e,s=a=>{o("update:value",a.srcElement.value)},n=a=>{let c={file:a[0],category:"icon"};i.autoUpload&&Oe(c).then(l=>{o("update:avatar",l.data.link)}),Nn(a[0]).then(l=>{o("changeAvatar",{file:a[0],url:l})})};return(a,c)=>{const l=jt;return J(),X("div",os,[g("div",ss,[y(Ve,{onChange:n},{default:B(()=>[g("img",{class:"avatar",src:i.avatar},null,8,is)]),_:1})]),y(l,{size:"large",value:i.value,placeholder:e.placeholder,onInput:s},null,8,["value","placeholder"])])}}},cn=rt(rs,[["__scopeId","data-v-1a1bdb06"]]);var un={exports:{}};/*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr */(function(e,t){(function(o,i){e.exports=i()})(self,()=>(()=>{var o={d:(w,r)=>{for(var u in r)o.o(r,u)&&!o.o(w,u)&&Object.defineProperty(w,u,{enumerable:!0,get:r[u]})},o:(w,r)=>Object.prototype.hasOwnProperty.call(w,r),r:w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})}},i={};o.d(i,{default:()=>pt});var s={};function n(w,r,u,p,_={}){r instanceof HTMLCollection||r instanceof NodeList?r=Array.from(r):Array.isArray(r)||(r=[r]),Array.isArray(u)||(u=[u]);for(const d of r)for(const h of u)d[w](h,p,{capture:!1,..._});return Array.prototype.slice.call(arguments,1)}o.r(s),o.d(s,{adjustableInputNumbers:()=>E,createElementFromString:()=>l,createFromTemplate:()=>v,eventPath:()=>b,off:()=>c,on:()=>a,resolveElement:()=>I});const a=n.bind(null,"addEventListener"),c=n.bind(null,"removeEventListener");function l(w){const r=document.createElement("div");return r.innerHTML=w.trim(),r.firstElementChild}function v(w){const r=(p,_)=>{const d=p.getAttribute(_);return p.removeAttribute(_),d},u=(p,_={})=>{const d=r(p,":obj"),h=r(p,":ref"),f=d?_[d]={}:_;h&&(_[h]=p);for(const m of Array.from(p.children)){const P=r(m,":arr"),M=u(m,P?{}:f);P&&(f[P]||(f[P]=[])).push(Object.keys(M).length?M:m)}return _};return u(l(w))}function b(w){let r=w.path||w.composedPath&&w.composedPath();if(r)return r;let u=w.target.parentElement;for(r=[w.target,u];u=u.parentElement;)r.push(u);return r.push(document,window),r}function I(w){return w instanceof Element?w:typeof w=="string"?w.split(/>>/g).reduce((r,u,p,_)=>(r=r.querySelector(u),p<_.length-1?r.shadowRoot:r),document):null}function E(w,r=u=>u){function u(p){const _=[.001,.01,.1][Number(p.shiftKey||2*p.ctrlKey)]*(p.deltaY<0?1:-1);let d=0,h=w.selectionStart;w.value=w.value.replace(/[\d.]+/g,(f,m)=>m<=h&&m+f.length>=h?(h=m,r(Number(f),_,d)):(d++,f)),w.focus(),w.setSelectionRange(h,h),p.preventDefault(),w.dispatchEvent(new Event("input"))}a(w,"focus",()=>a(window,"wheel",u,{passive:!1})),a(w,"blur",()=>c(window,"wheel",u))}const{min:C,max:S,floor:N,round:$}=Math;function A(w,r,u){r/=100,u/=100;const p=N(w=w/360*6),_=w-p,d=u*(1-r),h=u*(1-_*r),f=u*(1-(1-_)*r),m=p%6;return[255*[u,h,d,d,f,u][m],255*[f,u,u,h,d,d][m],255*[d,d,f,u,u,h][m]]}function L(w,r,u){const p=(2-(r/=100))*(u/=100)/2;return p!==0&&(r=p===1?0:p<.5?r*u/(2*p):r*u/(2-2*p)),[w,100*r,100*p]}function T(w,r,u){const p=C(w/=255,r/=255,u/=255),_=S(w,r,u),d=_-p;let h,f;if(d===0)h=f=0;else{f=d/_;const m=((_-w)/6+d/2)/d,P=((_-r)/6+d/2)/d,M=((_-u)/6+d/2)/d;w===_?h=M-P:r===_?h=1/3+m-M:u===_&&(h=2/3+P-m),h<0?h+=1:h>1&&(h-=1)}return[360*h,100*f,100*_]}function k(w,r,u,p){return r/=100,u/=100,[...T(255*(1-C(1,(w/=100)*(1-(p/=100))+p)),255*(1-C(1,r*(1-p)+p)),255*(1-C(1,u*(1-p)+p)))]}function R(w,r,u){r/=100;const p=2*(r*=(u/=100)<.5?u:1-u)/(u+r)*100,_=100*(u+r);return[w,isNaN(p)?0:p,_]}function D(w){return T(...w.match(/.{2}/g).map(r=>parseInt(r,16)))}function z(w){w=w.match(/^[a-zA-Z]+$/)?function(_){if(_.toLowerCase()==="black")return"#000";const d=document.createElement("canvas").getContext("2d");return d.fillStyle=_,d.fillStyle==="#000"?null:d.fillStyle}(w):w;const r={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},u=_=>_.map(d=>/^(|\d+)\.\d+|\d+$/.test(d)?Number(d):void 0);let p;t:for(const _ in r)if(p=r[_].exec(w))switch(_){case"cmyk":{const[,d,h,f,m]=u(p);if(d>100||h>100||f>100||m>100)break t;return{values:k(d,h,f,m),type:_}}case"rgba":{let[,d,,h,,f,,,m]=u(p);if(d=p[2]==="%"?d/100*255:d,h=p[4]==="%"?h/100*255:h,f=p[6]==="%"?f/100*255:f,m=p[9]==="%"?m/100:m,d>255||h>255||f>255||m<0||m>1)break t;return{values:[...T(d,h,f),m],a:m,type:_}}case"hexa":{let[,d]=p;d.length!==4&&d.length!==3||(d=d.split("").map(m=>m+m).join(""));const h=d.substring(0,6);let f=d.substring(6);return f=f?parseInt(f,16)/255:void 0,{values:[...D(h),f],a:f,type:_}}case"hsla":{let[,d,h,f,,m]=u(p);if(m=p[6]==="%"?m/100:m,d>360||h>100||f>100||m<0||m>1)break t;return{values:[...R(d,h,f),m],a:m,type:_}}case"hsva":{let[,d,h,f,,m]=u(p);if(m=p[6]==="%"?m/100:m,d>360||h>100||f>100||m<0||m>1)break t;return{values:[d,h,f,m],a:m,type:_}}}return{values:null,type:null}}function q(w=0,r=0,u=0,p=1){const _=(h,f)=>(m=-1)=>f(~m?h.map(P=>Number(P.toFixed(m))):h),d={h:w,s:r,v:u,a:p,toHSVA(){const h=[d.h,d.s,d.v,d.a];return h.toString=_(h,f=>`hsva(${f[0]}, ${f[1]}%, ${f[2]}%, ${d.a})`),h},toHSLA(){const h=[...L(d.h,d.s,d.v),d.a];return h.toString=_(h,f=>`hsla(${f[0]}, ${f[1]}%, ${f[2]}%, ${d.a})`),h},toRGBA(){const h=[...A(d.h,d.s,d.v),d.a];return h.toString=_(h,f=>`rgba(${f[0]}, ${f[1]}, ${f[2]}, ${d.a})`),h},toCMYK(){const h=function(f,m,P){const M=A(f,m,P),x=M[0]/255,V=M[1]/255,O=M[2]/255,H=C(1-x,1-V,1-O);return[100*(H===1?0:(1-x-H)/(1-H)),100*(H===1?0:(1-V-H)/(1-H)),100*(H===1?0:(1-O-H)/(1-H)),100*H]}(d.h,d.s,d.v);return h.toString=_(h,f=>`cmyk(${f[0]}%, ${f[1]}%, ${f[2]}%, ${f[3]}%)`),h},toHEXA(){const h=function(m,P,M){return A(m,P,M).map(x=>$(x).toString(16).padStart(2,"0"))}(d.h,d.s,d.v),f=d.a>=1?"":Number((255*d.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return f&&h.push(f),h.toString=()=>`#${h.join("").toUpperCase()}`,h},clone:()=>q(d.h,d.s,d.v,d.a)};return d}const j=w=>Math.max(Math.min(w,1),0);function F(w){const r={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},w),_keyboard(d){const{options:h}=r,{type:f,key:m}=d;if(document.activeElement===h.wrapper){const{lock:P}=r.options,M=m==="ArrowUp",x=m==="ArrowRight",V=m==="ArrowDown",O=m==="ArrowLeft";if(f==="keydown"&&(M||x||V||O)){let H=0,G=0;P==="v"?H=M||x?1:-1:P==="h"?H=M||x?-1:1:(G=M?-1:V?1:0,H=O?-1:x?1:0),r.update(j(r.cache.x+.01*H),j(r.cache.y+.01*G)),d.preventDefault()}else m.startsWith("Arrow")&&(r.options.onstop(),d.preventDefault())}},_tapstart(d){a(document,["mouseup","touchend","touchcancel"],r._tapstop),a(document,["mousemove","touchmove"],r._tapmove),d.cancelable&&d.preventDefault(),r._tapmove(d)},_tapmove(d){const{options:h,cache:f}=r,{lock:m,element:P,wrapper:M}=h,x=M.getBoundingClientRect();let V=0,O=0;if(d){const ht=d&&d.touches&&d.touches[0];V=d?(ht||d).clientX:0,O=d?(ht||d).clientY:0,V<x.left?V=x.left:V>x.left+x.width&&(V=x.left+x.width),O<x.top?O=x.top:O>x.top+x.height&&(O=x.top+x.height),V-=x.left,O-=x.top}else f&&(V=f.x*x.width,O=f.y*x.height);m!=="h"&&(P.style.left=`calc(${V/x.width*100}% - ${P.offsetWidth/2}px)`),m!=="v"&&(P.style.top=`calc(${O/x.height*100}% - ${P.offsetHeight/2}px)`),r.cache={x:V/x.width,y:O/x.height};const H=j(V/x.width),G=j(O/x.height);switch(m){case"v":return h.onchange(H);case"h":return h.onchange(G);default:return h.onchange(H,G)}},_tapstop(){r.options.onstop(),c(document,["mouseup","touchend","touchcancel"],r._tapstop),c(document,["mousemove","touchmove"],r._tapmove)},trigger(){r._tapmove()},update(d=0,h=0){const{left:f,top:m,width:P,height:M}=r.options.wrapper.getBoundingClientRect();r.options.lock==="h"&&(h=d),r._tapmove({clientX:f+P*d,clientY:m+M*h})},destroy(){const{options:d,_tapstart:h,_keyboard:f}=r;c(document,["keydown","keyup"],f),c([d.wrapper,d.element],"mousedown",h),c([d.wrapper,d.element],"touchstart",h,{passive:!1})}},{options:u,_tapstart:p,_keyboard:_}=r;return a([u.wrapper,u.element],"mousedown",p),a([u.wrapper,u.element],"touchstart",p,{passive:!1}),a(document,["keydown","keyup"],_),r}function U(w={}){w=Object.assign({onchange:()=>0,className:"",elements:[]},w);const r=a(w.elements,"click",u=>{w.elements.forEach(p=>p.classList[u.target===p?"add":"remove"](w.className)),w.onchange(u),u.stopPropagation()});return{destroy:()=>c(...r)}}const et={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},Y=(w,r,u)=>{const p=typeof w!="object"||w instanceof HTMLElement?{reference:w,popper:r,...u}:w;return{update(_=p){const{reference:d,popper:h}=Object.assign(p,_);if(!h||!d)throw new Error("Popper- or reference-element missing.");return((f,m,P)=>{const{container:M,arrow:x,margin:V,padding:O,position:H,variantFlipOrder:G,positionFlipOrder:ht}={container:document.documentElement.getBoundingClientRect(),...et,...P},{left:Yt,top:Wt}=m.style;m.style.left="0",m.style.top="0";const Z=f.getBoundingClientRect(),it=m.getBoundingClientRect(),pn={t:Z.top-it.height-V,b:Z.bottom+V,r:Z.right+V,l:Z.left-it.width-V},hn={vs:Z.left,vm:Z.left+Z.width/2-it.width/2,ve:Z.left+Z.width-it.width,hs:Z.top,hm:Z.bottom-Z.height/2-it.height/2,he:Z.bottom-it.height},[fn,gn="middle"]=H.split("-"),mn=ht[fn],_n=G[gn],{top:Ee,left:$e,bottom:Be,right:Pe}=M;for(const wt of mn){const ft=wt==="t"||wt==="b";let Ct=pn[wt];const[Qt,Gt]=ft?["top","left"]:["left","top"],[Xt,Zt]=ft?[it.height,it.width]:[it.width,it.height],[vn,yn]=ft?[Be,Pe]:[Pe,Be],[bn,wn]=ft?[Ee,$e]:[$e,Ee];if(!(Ct<bn||Ct+Xt+O>vn))for(const te of _n){let kt=hn[(ft?"v":"h")+te];if(!(kt<wn||kt+Zt+O>yn)){if(kt-=it[Gt],Ct-=it[Qt],m.style[Gt]=`${kt}px`,m.style[Qt]=`${Ct}px`,x){const ee=ft?Z.width/2:Z.height/2,Nt=Zt/2,Ie=ee>Nt,Cn=kt+{s:Ie?Nt:ee,m:Nt,e:Ie?Nt:Zt-ee}[te],kn=Ct+{t:Xt,b:0,r:0,l:Xt}[wt];x.style[Gt]=`${Cn}px`,x.style[Qt]=`${kn}px`}return wt+te}}}return m.style.left=Yt,m.style.top=Wt,null})(d,h,p)}}},K=class K{constructor(r){tt(this,"_initializingActive",!0);tt(this,"_recalc",!0);tt(this,"_nanopop",null);tt(this,"_root",null);tt(this,"_color",q());tt(this,"_lastColor",q());tt(this,"_swatchColors",[]);tt(this,"_setupAnimationFrame",null);tt(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]});this.options=r=Object.assign({...K.DEFAULT_OPTIONS},r);const{swatches:u,components:p,theme:_,sliders:d,lockOpacity:h,padding:f}=r;["nano","monolith"].includes(_)&&!d&&(r.sliders="h"),p.interaction||(p.interaction={});const{preview:m,opacity:P,hue:M,palette:x}=p;p.opacity=!h&&P,p.palette=x||m||P||M,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),u&&u.length&&u.forEach(G=>this.addSwatch(G));const{button:V,app:O}=this._root;this._nanopop=Y(V,O,{margin:f}),V.setAttribute("role","button"),V.setAttribute("aria-label",this._t("btn:toggle"));const H=this;this._setupAnimationFrame=requestAnimationFrame(function G(){if(!O.offsetWidth)return requestAnimationFrame(G);H.setColor(r.default),H._rePositioningPicker(),r.defaultRepresentation&&(H._representation=r.defaultRepresentation,H.setColorRepresentation(H._representation)),r.showAlways&&H.show(),H._initializingActive=!1,H._emit("init")})}_preBuild(){const{options:r}=this;for(const u of["el","container"])r[u]=I(r[u]);this._root=(u=>{const{components:p,useAsButton:_,inline:d,appClass:h,theme:f,lockOpacity:m}=u.options,P=O=>O?"":'style="display:none" hidden',M=O=>u._t(O),x=v(`
      <div :ref="root" class="pickr">

        ${_?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${h||""}" data-theme="${f}" ${d?'style="position: unset"':""} aria-label="${M("ui:dialog")}" role="window">
          <div class="pcr-selection" ${P(p.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${P(p.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${M("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${M("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${P(p.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${M("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${P(p.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${M("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${p.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${P(Object.keys(p.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${P(p.interaction.input)} aria-label="${M("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${m?"HEX":"HEXA"}" type="button" ${P(p.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${m?"RGB":"RGBA"}" type="button" ${P(p.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${m?"HSL":"HSLA"}" type="button" ${P(p.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${m?"HSV":"HSVA"}" type="button" ${P(p.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${P(p.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${M("btn:save")}" type="button" ${P(p.interaction.save)} aria-label="${M("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${M("btn:cancel")}" type="button" ${P(p.interaction.cancel)} aria-label="${M("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${M("btn:clear")}" type="button" ${P(p.interaction.clear)} aria-label="${M("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),V=x.interaction;return V.options.find(O=>!O.hidden&&!O.classList.add("active")),V.type=()=>V.options.find(O=>O.classList.contains("active")),x})(this),r.useAsButton&&(this._root.button=r.el),r.container.appendChild(this._root.root)}_finalBuild(){const r=this.options,u=this._root;if(r.container.removeChild(u.root),r.inline){const p=r.el.parentElement;r.el.nextSibling?p.insertBefore(u.app,r.el.nextSibling):p.appendChild(u.app)}else r.container.appendChild(u.app);r.useAsButton?r.inline&&r.el.remove():r.el.parentNode.replaceChild(u.root,r.el),r.disabled&&this.disable(),r.comparison||(u.button.style.transition="none",r.useAsButton||(u.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const r=this,u=this.options.components,p=(r.options.sliders||"v").repeat(2),[_,d]=p.match(/^[vh]+$/g)?p:[],h=()=>this._color||(this._color=this._lastColor.clone()),f={palette:F({element:r._root.palette.picker,wrapper:r._root.palette.palette,onstop:()=>r._emit("changestop","slider",r),onchange(m,P){if(!u.palette)return;const M=h(),{_root:x,options:V}=r,{lastColor:O,currentColor:H}=x.preview;r._recalc&&(M.s=100*m,M.v=100-100*P,M.v<0&&(M.v=0),r._updateOutput("slider"));const G=M.toRGBA().toString(0);this.element.style.background=G,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${M.a}), transparent),
                        linear-gradient(to left, hsla(${M.h}, 100%, 50%, ${M.a}), rgba(255, 255, 255, ${M.a}))
                    `,V.comparison?V.useAsButton||r._lastColor||O.style.setProperty("--pcr-color",G):(x.button.style.setProperty("--pcr-color",G),x.button.classList.remove("clear"));const ht=M.toHEXA().toString();for(const{el:Yt,color:Wt}of r._swatchColors)Yt.classList[ht===Wt.toHEXA().toString()?"add":"remove"]("pcr-active");H.style.setProperty("--pcr-color",G)}}),hue:F({lock:d==="v"?"h":"v",element:r._root.hue.picker,wrapper:r._root.hue.slider,onstop:()=>r._emit("changestop","slider",r),onchange(m){if(!u.hue||!u.palette)return;const P=h();r._recalc&&(P.h=360*m),this.element.style.backgroundColor=`hsl(${P.h}, 100%, 50%)`,f.palette.trigger()}}),opacity:F({lock:_==="v"?"h":"v",element:r._root.opacity.picker,wrapper:r._root.opacity.slider,onstop:()=>r._emit("changestop","slider",r),onchange(m){if(!u.opacity||!u.palette)return;const P=h();r._recalc&&(P.a=Math.round(100*m)/100),this.element.style.background=`rgba(0, 0, 0, ${P.a})`,f.palette.trigger()}}),selectable:U({elements:r._root.interaction.options,className:"active",onchange(m){r._representation=m.target.getAttribute("data-type").toUpperCase(),r._recalc&&r._updateOutput("swatch")}})};this._components=f}_bindEvents(){const{_root:r,options:u}=this,p=[a(r.interaction.clear,"click",()=>this._clearColor()),a([r.interaction.cancel,r.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),a(r.interaction.save,"click",()=>{!this.applyColor()&&!u.showAlways&&this.hide()}),a(r.interaction.result,["keyup","input"],_=>{this.setColor(_.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),_.stopImmediatePropagation()}),a(r.interaction.result,["focus","blur"],_=>{this._recalc=_.type==="blur",this._recalc&&this._updateOutput(null)}),a([r.palette.palette,r.palette.picker,r.hue.slider,r.hue.picker,r.opacity.slider,r.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!u.showAlways){const _=u.closeWithKey;p.push(a(r.button,"click",()=>this.isOpen()?this.hide():this.show()),a(document,"keyup",d=>this.isOpen()&&(d.key===_||d.code===_)&&this.hide()),a(document,["touchstart","mousedown"],d=>{this.isOpen()&&!b(d).some(h=>h===r.app||h===r.button)&&this.hide()},{capture:!0}))}if(u.adjustableNumbers){const _={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};E(r.interaction.result,(d,h,f)=>{const m=_[this.getColorRepresentation().toLowerCase()];if(m){const P=m[f],M=d+(P>=100?1e3*h:h);return M<=0?0:Number((M<P?M:P).toPrecision(3))}return d})}if(u.autoReposition&&!u.inline){let _=null;const d=this;p.push(a(window,["scroll","resize"],()=>{d.isOpen()&&(u.closeOnScroll&&d.hide(),_===null?(_=setTimeout(()=>_=null,100),requestAnimationFrame(function h(){d._rePositioningPicker(),_!==null&&requestAnimationFrame(h)})):(clearTimeout(_),_=setTimeout(()=>_=null,100)))},{capture:!0}))}this._eventBindings=p}_rePositioningPicker(){const{options:r}=this;if(!r.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:r.position})){const u=this._root.app,p=u.getBoundingClientRect();u.style.top=(window.innerHeight-p.height)/2+"px",u.style.left=(window.innerWidth-p.width)/2+"px"}}_updateOutput(r){const{_root:u,_color:p,options:_}=this;if(u.interaction.type()){const d=`to${u.interaction.type().getAttribute("data-type")}`;u.interaction.result.value=typeof p[d]=="function"?p[d]().toString(_.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",p,r,this)}_clearColor(r=!1){const{_root:u,options:p}=this;p.useAsButton||u.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),u.button.classList.add("clear"),p.showAlways||this.hide(),this._lastColor=null,this._initializingActive||r||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(r){const{values:u,type:p,a:_}=z(r),{lockOpacity:d}=this.options,h=_!==void 0&&_!==1;return u&&u.length===3&&(u[3]=void 0),{values:!u||d&&h?null:u,type:p}}_t(r){return this.options.i18n[r]||K.I18N_DEFAULTS[r]}_emit(r,...u){this._eventListener[r].forEach(p=>p(...u,this))}on(r,u){return this._eventListener[r].push(u),this}off(r,u){const p=this._eventListener[r]||[],_=p.indexOf(u);return~_&&p.splice(_,1),this}addSwatch(r){const{values:u}=this._parseLocalColor(r);if(u){const{_swatchColors:p,_root:_}=this,d=q(...u),h=l(`<button type="button" style="--pcr-color: ${d.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return _.swatches.appendChild(h),p.push({el:h,color:d}),this._eventBindings.push(a(h,"click",()=>{this.setHSVA(...d.toHSVA(),!0),this._emit("swatchselect",d),this._emit("change",d,"swatch",this)})),!0}return!1}removeSwatch(r){const u=this._swatchColors[r];if(u){const{el:p}=u;return this._root.swatches.removeChild(p),this._swatchColors.splice(r,1),!0}return!1}applyColor(r=!1){const{preview:u,button:p}=this._root,_=this._color.toRGBA().toString(0);return u.lastColor.style.setProperty("--pcr-color",_),this.options.useAsButton||p.style.setProperty("--pcr-color",_),p.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||r||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(r=>c(...r)),Object.keys(this._components).forEach(r=>this._components[r].destroy())}destroyAndRemove(){this.destroy();const{root:r,app:u}=this._root;r.parentElement&&r.parentElement.removeChild(r),u.parentElement.removeChild(u),Object.keys(this).forEach(p=>this[p]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(r=360,u=0,p=0,_=1,d=!1){const h=this._recalc;if(this._recalc=!1,r<0||r>360||u<0||u>100||p<0||p>100||_<0||_>1)return!1;this._color=q(r,u,p,_);const{hue:f,opacity:m,palette:P}=this._components;return f.update(r/360),m.update(_),P.update(u/100,1-p/100),d||this.applyColor(),h&&this._updateOutput(),this._recalc=h,!0}setColor(r,u=!1){if(r===null)return this._clearColor(u),!0;const{values:p,type:_}=this._parseLocalColor(r);if(p){const d=_.toUpperCase(),{options:h}=this._root.interaction,f=h.find(m=>m.getAttribute("data-type")===d);if(f&&!f.hidden)for(const m of h)m.classList[m===f?"add":"remove"]("active");return!!this.setHSVA(...p,u)&&this.setColorRepresentation(d)}return!1}setColorRepresentation(r){return r=r.toUpperCase(),!!this._root.interaction.options.find(u=>u.getAttribute("data-type").startsWith(r)&&!u.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}};tt(K,"utils",s),tt(K,"version","1.9.1"),tt(K,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),tt(K,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),tt(K,"create",r=>new K(r));let pt=K;return i=i.default})())})(un);var as=un.exports;const ls=En(as),cs={class:"color-picker-wrapper"},us={class:"color-picker-action"},ds={__name:"index",props:{value:{type:String,default:"#000000"}},emits:["update:value","change"],setup(e,{emit:t}){const o=t,i=e,s=Q(null);return $n(()=>{const n=ls.create({el:s.value,container:"body",theme:"nano",default:i.value,defaultRepresentation:"HEX",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 0.95)","rgba(156, 39, 176, 0.9)","rgba(103, 58, 183, 0.85)","rgba(63, 81, 181, 0.8)","rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)","rgba(0, 188, 212, 0.7)","rgba(0, 150, 136, 0.75)","rgba(76, 175, 80, 0.8)","rgba(139, 195, 74, 0.85)","rgba(205, 220, 57, 0.9)","rgba(255, 235, 59, 0.95)","rgba(255, 193, 7, 1)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!0}}});n.on("save",(a,c)=>{let l=a.toHEXA().toString();o("update:value",l),o("change",l),c.hide()}),n.on("show",()=>{const a=document.querySelectorAll(".pcr-save");a&&a.length&&a.forEach(function(c){c.tagName.toLowerCase()==="input"&&(c.value="保存")})})}),(n,a)=>{const c=jt;return J(),X("div",cs,[y(c,{value:i.value,readonly:!0,placeholder:"Basic usage"},null,8,["value"]),g("span",us,[g("span",{ref_key:"colorPicker",ref:s},null,512)])])}}},pe=rt(ds,[["__scopeId","data-v-f2a9e7d0"]]),ps="/assets/img/quick-help-BZ3Cu-IE.png",hs=e=>(he("data-v-9444f65b"),e=e(),fe(),e),fs={class:"quick-instructions-box"},gs=hs(()=>g("div",{class:"help-box"},[g("div",null,"快捷指令是对话输入框上方的按钮,配置完成后,用户可以快速发起预设对话"),g("img",{src:ps,alt:""})],-1)),ms={class:"quick-action-right"},_s={class:"quick-list-box"},vs={class:"list-box-wrap"},ys={class:"drag-btn"},bs={class:"left-box"},ws={class:"title"},Cs={class:"content"},ks={class:"opration-box"},Ss={class:"form-box"},As={__name:"quick-instruction",props:{type:{type:Number,default:void 0}},emits:["updata"],setup(e,{emit:t}){const o=e,i=t,s=Bn(),n=Vt(),{robotInfo:a}=Dt(n),{getRobot:c}=n,l=Q([]),v=Q(parseInt(o.type==-1?a.value.fast_command_switch:a.value.yunpc_fast_command_switch)||0);gt(l,F=>{i("updata",{comand_list:F,fast_command_switch:v.value})});const b=()=>{Un({robot_key:a.value.robot_key,app_id:o.type}).then(F=>{l.value=F.data||[],n.setQuickCommand(F.data)})};b();const I=Pt.useForm,E=Q(!1),C=Q("添加快捷指令"),S=Et({robot_id:s.query.id,app_id:o.type,title:"",typ:1,content:"",id:""}),N=F=>{const{id:U}=a.value;Fn({robot_key:a.value.robot_key,app_id:o.type}).then(et=>{v.value=F,i("updata",{comand_list:l.value,fast_command_switch:v.value}),c(U),lt.success("修改成功")}).catch(et=>{v.value=!v.value})},$=()=>{S.content="",R(["content"])},A=F=>{E.value=!0,T(),C.value=F.id?"编辑快捷指令":"添加快捷指令",S.title=F.title||"",S.content=F.content||"",S.id=F.id||"",S.typ=+F.typ||1},L=Et({title:[{message:"请输入指令标题",required:!0}],content:[{message:"",required:!0},{validator:async(F,U)=>U==""?Promise.reject(new Error(`请输入${S.typ==1?"内容":"网址"}`)):S.typ==1||jn(U)?Promise.resolve():Promise.reject(new Error("请输入合法网页链接"))}]}),{resetFields:T,validate:k,clearValidate:R,validateInfos:D}=I(S,L),z=()=>{k().then(()=>{Dn({...Bt(S)}).then(F=>{lt.success("修改成功"),E.value=!1,b()})})},q=F=>{Ne.confirm({title:"提醒",icon:y(Ln),content:"确定要删除该快捷指令吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk(){On({id:F}).then(U=>{lt.success("删除成功"),b()})},onCancel(){}})},j=F=>{let U=l.value.map((et,Y)=>({id:+et.id,sort:Y+1}));Vn({data:U}).then(et=>{lt.success("保存成功"),b()})};return(F,U)=>{const et=Kn,Y=ge,pt=ze,K=Ht,w=jt,r=me,u=He,p=je,_=Ke,d=Pt,h=Ne;return J(),X("div",fs,[y(bt,null,{title:B(()=>[W(" 快捷指令设置 "),y(et,{placement:"top"},{content:B(()=>[gs]),default:B(()=>[y(nt(qn),{class:"help-icon"})]),_:1})]),icon:B(()=>[y(Y,{name:"quick-Instruction",style:{"font-size":"16px",color:"#262626"}})]),action:B(()=>[g("div",ms,[y(pt,{onChange:N,class:"switch-item",checkedValue:1,unCheckedValue:0,checked:v.value,"onUpdate:checked":U[0]||(U[0]=f=>v.value=f),"checked-children":"开","un-checked-children":"关"},null,8,["checked"]),y(K,{onClick:A,size:"small",type:"primary"},{default:B(()=>[W("添加")]),_:1})])]),default:B(()=>[g("div",_s,[y(nt(zn),{modelValue:l.value,"onUpdate:modelValue":U[1]||(U[1]=f=>l.value=f),"item-key":"id",onEnd:U[2]||(U[2]=f=>j(f)),handle:".drag-btn"},{item:B(({element:f,index:m})=>[g("div",vs,[(J(),X("div",{class:"list-item",key:f.id},[g("div",ys,[y(Y,{name:"drag"})]),g("div",bs,[g("div",ws,ut(f.title),1),g("div",Cs,ut(f.content),1)]),g("div",ks,[y(nt(Hn),{onClick:P=>A(f)},null,8,["onClick"]),y(nt(Rn),{onClick:P=>q(f.id)},null,8,["onClick"])])]))])]),_:1},8,["modelValue"])])]),_:1}),y(h,{open:E.value,"onUpdate:open":U[7]||(U[7]=f=>E.value=f),title:C.value,onOk:z,width:"576px"},{default:B(()=>[g("div",Ss,[y(d,{layout:"vertical"},{default:B(()=>[y(r,Te({label:"指令标题"},nt(D).title),{default:B(()=>[y(w,{placeholder:"请输入指令标题",maxLength:20,value:S.title,"onUpdate:value":U[3]||(U[3]=f=>S.title=f)},null,8,["value"])]),_:1},16),y(r,{label:"指令类型",required:""},{default:B(()=>[y(p,{value:S.typ,"onUpdate:value":U[4]||(U[4]=f=>S.typ=f),onChange:$},{default:B(()=>[y(u,{value:1},{default:B(()=>[W("输入内容")]),_:1}),y(u,{value:2},{default:B(()=>[W("跳转网页")]),_:1})]),_:1},8,["value"])]),_:1}),y(r,Te({label:S.typ==1?"指令内容":"网页链接",required:""},nt(D).content),{default:B(()=>[S.typ==1?(J(),$t(_,{key:0,style:{height:"100px"},value:S.content,"onUpdate:value":U[5]||(U[5]=f=>S.content=f),placeholder:"请输入指令内容"},null,8,["value"])):(J(),$t(w,{key:1,placeholder:"请输入网页链接",value:S.content,"onUpdate:value":U[6]||(U[6]=f=>S.content=f)},null,8,["value"]))]),_:1},16,["label"])]),_:1})])]),_:1},8,["open","title"])])}}},dn=rt(As,[["__scopeId","data-v-9444f65b"]]),Ae=e=>(he("data-v-04078f82"),e=e(),fe(),e),Es={class:"web-app-box"},$s={class:"box-left"},Bs={class:"box-wrapper"},Ps={class:"web-app-info"},Is={class:"web-app-link"},Ts=["href"],Ms={class:"link-action"},Ns=["src"],Rs={class:"access-restrictions form-box"},Ls={class:"form-item"},xs=Ae(()=>g("div",{class:"form-item-label"},"访问限制",-1)),Us={class:"form-item-body"},Fs=Ae(()=>g("span",{class:"default-text-color"},"无限制",-1)),Ds=Ae(()=>g("span",{class:"default-text-color"},"登录后才可访问",-1)),Os={class:"box-wrapper"},Vs={class:"web-app-style form-box"},Hs={class:"box-wrapper"},js={class:"box-right"},zs={class:"demo-box"},Ks=["src"],qs={__name:"web-app",setup(e){const t=Vt(),{robotInfo:o,external_config_h5:i}=Dt(t),{h5_website:s}=o.value,{getRobot:n}=t,a=Q(""),c=Q(),l=Et({logo:i.value.logo,pageTitle:i.value.pageTitle,navbarShow:i.value.navbarShow,lang:i.value.lang,pageStyle:i.value.pageStyle}),v=Ot(()=>s);gt(l,k=>{I(k)});const b=k=>{I(k,"updataQuickComand")},I=(k,R)=>{document.getElementById("mobile-preview").contentWindow.postMessage({type:R||"onPreview",data:JSON.parse(JSON.stringify(k))},"*")},E={lang:[{required:!0,message:"请选择语言",trigger:"change"}],pageTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>l.logo?Promise.resolve():Promise.reject("请上传logo")}],navbarShow:[{required:!0,message:"请选择是否显示标题栏",trigger:"change"}],pageStyle:{navbarBackgroundColor:[{required:!0,message:"请选择标题栏颜色",trigger:"change"}]}},C=Q(1),S=()=>{let k={...Bt(i.value)};k.accessRestrictionsType=C.value,N(k)},N=k=>{const{id:R}=o.value;De({id:R,external_config_h5:JSON.stringify(k)}).then(()=>{n(R),lt.success("保存成功")})},$=()=>{c.value.validate().then(()=>{let k={...Bt(l)};k.accessRestrictionsType=C.value,N(k)}).catch(k=>{})},A=()=>{window.open(s)},L=()=>{Fe(s),lt.success("复制成功")};return(async()=>{try{a.value=await Tt.toDataURL(s)}catch(k){console.error(k)}})(),(k,R)=>{const D=ge,z=Ht,q=Jn,j=He,F=je,U=me,et=_e,Y=ve,pt=Pt;return J(),X("div",Es,[g("div",$s,[g("div",Bs,[y(bt,{title:"WebApp 链接"},{icon:B(()=>[y(D,{name:"circularNeedle",style:{"font-size":"16px",color:"#262626"}})]),default:B(()=>[g("div",Ps,[g("div",Is,[g("a",{href:nt(s),target:"_blank"},ut(nt(s)),9,Ts)]),g("div",Ms,[y(z,{class:"action-btn",type:"primary",ghost:"",onClick:L},{default:B(()=>[W("复 制")]),_:1}),y(z,{class:"action-btn",onClick:A},{default:B(()=>[W("预 览")]),_:1}),y(q,{color:"#fff",placement:"top"},{title:B(()=>[g("img",{style:{width:"180px"},src:a.value,alt:""},null,8,Ns)]),default:B(()=>[y(z,{class:"action-btn"},{default:B(()=>[W("二维码")]),_:1})]),_:1})]),g("div",Rs,[g("div",Ls,[xs,g("div",Us,[y(F,{value:C.value,"onUpdate:value":R[0]||(R[0]=K=>C.value=K),onChange:S},{default:B(()=>[y(j,{value:1},{default:B(()=>[Fs]),_:1}),y(j,{value:2},{default:B(()=>[Ds]),_:1})]),_:1},8,["value"])])])])])]),_:1})]),g("div",Os,[y(bt,{title:"样式设置"},{icon:B(()=>[y(D,{name:"phone",style:{"font-size":"16px",color:"#262626"}})]),action:B(()=>[y(z,{onClick:$,size:"small",type:"primary"},{default:B(()=>[W("保存")]),_:1})]),default:B(()=>[g("div",Vs,[y(pt,{ref_key:"formRef",ref:c,layout:"vertical",model:l,rules:E},{default:B(()=>[y(U,{class:"form-item",label:"是否显示标题栏",name:"navbarShow"},{default:B(()=>[y(F,{value:l.navbarShow,"onUpdate:value":R[1]||(R[1]=K=>l.navbarShow=K),name:"navbarShow"},{default:B(()=>[y(j,{value:1},{default:B(()=>[W("显示")]),_:1}),y(j,{value:2},{default:B(()=>[W("不显示")]),_:1})]),_:1},8,["value"])]),_:1}),y(U,{class:"form-item",label:"页面标题",name:"pageTitle"},{default:B(()=>[y(cn,{avatar:l.logo,"onUpdate:avatar":R[2]||(R[2]=K=>l.logo=K),value:l.pageTitle,"onUpdate:value":R[3]||(R[3]=K=>l.pageTitle=K)},null,8,["avatar","value"])]),_:1}),y(U,{class:"form-item",label:"标题栏颜色",name:["pageStyle","navbarBackgroundColor"]},{default:B(()=>[y(pe,{value:l.pageStyle.navbarBackgroundColor,"onUpdate:value":R[4]||(R[4]=K=>l.pageStyle.navbarBackgroundColor=K)},null,8,["value"])]),_:1}),y(U,{class:"form-item",label:"语言",name:"lang"},{default:B(()=>[y(Y,{style:{width:"180px"},value:l.lang,"onUpdate:value":R[5]||(R[5]=K=>l.lang=K),placeholder:"请选择语言"},{default:B(()=>[y(et,{value:"zh-CN"},{default:B(()=>[W("简体中文")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1})]),g("div",Hs,[y(dn,{type:nt(o).app_id,onUpdata:b},null,8,["type"])])]),g("div",js,[g("div",zs,[g("iframe",{id:"mobile-preview",src:v.value,frameborder:"0"},null,8,Ks)])])])}}},Js=rt(qs,[["__scopeId","data-v-04078f82"]]);function Ys({pc_domain:e,robot_key:t}){var o=`<script>
  (function (z, h, i, m, a, j, s) {
    z[m] = z[m] || function () {
      (z[m].a = z[m].a || []).push(arguments);
    };
    (j = h.createElement(i)), (s = h.getElementsByTagName(i)[0]);
    j.async = true;
    j.charset = "UTF-8";
    j.setAttribute(
      "data-json",
      JSON.stringify({
        robot_key: "${t}",
        language: "zh-CN",
      })
    );
    j.id = "ai_chat_js";
    j.src = '${e}/sdk/ai-chat-sdk.umd.cjs';
    s.parentNode.insertBefore(j, s);
  })(window, document, "script", "_ai_chat");
<\/script>`;return o}const Ws={class:"gradient-color-picker"},Qs={class:"color-picker-box"},Gs={class:"gradient-type-select"},Xs={class:"color-item"},Zs={class:"right-arrow"},ti={class:"color-item"},ei={__name:"gradient-color-picker",props:{value:{type:String,default:""}},emits:["update:value"],setup(e,{emit:t}){const o=t,i=e,s=Pt.useInjectFormItemContext(),n=Q([{key:1,label:"单色",value:"color",type:"color"},{key:2,label:"线性渐变（横向）",value:"to right",type:"linear-gradient"},{key:3,label:"线性渐变（竖向）",value:"to bottom",type:"linear-gradient"},{key:4,label:"径向渐变",value:"circle",type:"radial-gradient"}]),a=Q("linear-gradient"),c=Q("to right"),l=Q("#2435E7"),v=Q("#01A0FB"),b=Ot(()=>a.value=="color"?l.value:`${a.value}(${c.value}, ${l.value}, ${v.value})`);gt(()=>b.value,()=>{let E=[a.value,c.value,l.value,v.value].join(",");o("update:value",E),s.onFieldChange()}),gt(()=>i.value,()=>{const E=i.value.split(","),[C,S,N,$]=E;a.value=C,c.value=S,l.value=N,v.value=$},{immediate:!0});const I=(E,C)=>{a.value=C.type,c.value=E,s.onFieldChange()};return(E,C)=>{const S=_e,N=ve;return J(),X("div",Ws,[g("div",Qs,[g("div",Gs,[y(N,{value:c.value,style:{width:"180px"},onChange:I},{default:B(()=>[(J(!0),X(Me,null,Pn(n.value,$=>(J(),$t(S,{value:$.value,type:$.type,key:$.key},{default:B(()=>[W(ut($.label),1)]),_:2},1032,["value","type"]))),128))]),_:1},8,["value"])]),g("div",Xs,[y(pe,{value:l.value,"onUpdate:value":C[0]||(C[0]=$=>l.value=$)},null,8,["value"])]),a.value!="color"?(J(),X(Me,{key:0},[g("div",Zs,[y(nt(Yn))]),g("div",ti,[y(pe,{value:v.value,"onUpdate:value":C[1]||(C[1]=$=>v.value=$)},null,8,["value"])])],64)):St("",!0)])])}}},ni=rt(ei,[["__scopeId","data-v-dfea777d"]]),oi="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='56'%20height='56'%20fill='white'/%3e%3crect%20x='14'%20y='14'%20width='28'%20height='28'%20rx='14'%20fill='%232475FC'/%3e%3crect%20x='14.5'%20y='14.5'%20width='27'%20height='27'%20rx='13.5'%20stroke='black'%20stroke-opacity='0.04'/%3e%3cg%20clip-path='url(%23clip0_2269_42995)'%3e%3cpath%20d='M31.5%2030.3385C32.7887%2030.3385%2033.8333%2029.2939%2033.8333%2028.0052C33.8333%2026.7165%2032.7887%2025.6719%2031.5%2025.6719'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M24.5013%2025.6719C23.2126%2025.6719%2022.168%2026.7165%2022.168%2028.0052C22.168%2029.2939%2023.2126%2030.3385%2024.5013%2030.3385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M24.5%2030.3385V30.1927V29.4635V28.0052V25.6719C24.5%2023.7389%2026.067%2022.1719%2028%2022.1719C29.933%2022.1719%2031.5%2023.7389%2031.5%2025.6719V30.3385C31.5%2032.2715%2029.933%2033.8385%2028%2033.8385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2269_42995'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(21%2021)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",si="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='56'%20height='56'%20fill='white'/%3e%3crect%20y='14'%20width='56'%20height='28'%20rx='14'%20fill='%232475FC'/%3e%3cg%20clip-path='url(%23clip0_2269_42985)'%3e%3cpath%20d='M19.5%2030.3385C20.7887%2030.3385%2021.8333%2029.2939%2021.8333%2028.0052C21.8333%2026.7165%2020.7887%2025.6719%2019.5%2025.6719'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.5013%2025.6719C11.2126%2025.6719%2010.168%2026.7165%2010.168%2028.0052C10.168%2029.2939%2011.2126%2030.3385%2012.5013%2030.3385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.5%2030.3385V30.1927V29.4635V28.0052V25.6719C12.5%2023.7389%2014.067%2022.1719%2016%2022.1719C17.933%2022.1719%2019.5%2023.7389%2019.5%2025.6719V30.3385C19.5%2032.2715%2017.933%2033.8385%2016%2033.8385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cpath%20d='M24.5414%2024.224V25.088H26.3894C26.9294%2026.936%2027.8894%2028.544%2029.2814%2029.912C27.9854%2031.088%2026.3294%2031.94%2024.3134%2032.48L24.7694%2033.236C26.8094%2032.648%2028.5134%2031.724%2029.8814%2030.464C31.1774%2031.58%2032.8094%2032.504%2034.8014%2033.248L35.2694%2032.528C33.3494%2031.82%2031.7534%2030.932%2030.4814%2029.852C31.6574%2028.58%2032.5454%2026.984%2033.1334%2025.088H35.0054V24.224H30.4214C30.0374%2023.396%2029.6294%2022.688%2029.1734%2022.112L28.3094%2022.424C28.7894%2022.988%2029.1854%2023.588%2029.5094%2024.224H24.5414ZM27.2414%2025.088H32.2334C31.7294%2026.744%2030.9494%2028.148%2029.8814%2029.312C28.6334%2028.112%2027.7574%2026.708%2027.2414%2025.088ZM40.9574%2024.116C40.7174%2024.452%2040.4534%2024.8%2040.1774%2025.148H37.0094V25.844H39.6134C39.3254%2026.18%2039.0254%2026.516%2038.7134%2026.876C39.5414%2027.032%2040.3694%2027.212%2041.2094%2027.428C40.1534%2027.764%2038.7134%2027.932%2036.8894%2027.932L37.3574%2028.64C39.3974%2028.616%2041.0414%2028.304%2042.3014%2027.716C43.5134%2028.04%2044.7254%2028.412%2045.9254%2028.844L46.4294%2028.184C45.3134%2027.812%2044.2214%2027.488%2043.1654%2027.224C43.6574%2026.864%2044.1134%2026.408%2044.5454%2025.844H46.5614V25.148H41.1254C41.3174%2024.896%2041.5214%2024.632%2041.7374%2024.344L40.9574%2024.116ZM42.2054%2026.984C41.4494%2026.792%2040.7054%2026.636%2039.9734%2026.516C40.1534%2026.324%2040.3574%2026.096%2040.5734%2025.844H43.6214C43.2614%2026.276%2042.7814%2026.648%2042.2054%2026.984ZM46.5974%2023.144H42.2414C42.0974%2022.784%2041.9534%2022.448%2041.7854%2022.148L40.8854%2022.292C41.0654%2022.556%2041.2334%2022.832%2041.3894%2023.144H36.9494V24.836H37.7654V23.876H45.7814V24.836H46.5974V23.144ZM36.6374%2029.336V30.104H40.5854C39.8414%2030.872%2038.4734%2031.556%2036.4814%2032.156L36.9614%2032.924C39.1214%2032.132%2040.5854%2031.196%2041.3534%2030.116V33.176H42.2414V30.152C43.1294%2031.256%2044.6174%2032.156%2046.7054%2032.84L47.0774%2032.084C45.2414%2031.592%2043.8854%2030.932%2043.0214%2030.104H46.9214V29.336H42.2414V28.4H41.3534V29.336H36.6374Z'%20fill='white'/%3e%3cdefs%3e%3cclipPath%20id='clip0_2269_42985'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(9%2021)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ot=e=>(he("data-v-a4615484"),e=e(),fe(),e),ii={class:"float-icon-setting"},ri={class:"form-box"},ai={class:"form-item"},li=ot(()=>g("div",{class:"form-item-label"},"展示形式：",-1)),ci={class:"form-content"},ui={class:"display-types"},di=ot(()=>g("div",{class:"type-icon"},[g("img",{src:oi,alt:""})],-1)),pi=ot(()=>g("div",{class:"type-name"},"简洁",-1)),hi=[di,pi],fi=ot(()=>g("div",{class:"type-icon"},[g("img",{src:si,alt:""})],-1)),gi=ot(()=>g("div",{class:"type-name"},"加文案",-1)),mi=[fi,gi],_i={class:"type-icon"},vi=["src"],yi=ot(()=>g("div",{class:"type-name"},"自定义",-1)),bi={key:1,class:"display-type"},wi={class:"type-icon"},Ci={class:"type-name"},ki={key:0,class:"form-item"},Si=ot(()=>g("div",{class:"form-item-label"},"按钮文案：",-1)),Ai={class:"form-content"},Ei={class:"form-item"},$i=ot(()=>g("div",{class:"form-item-label"},"底边距：",-1)),Bi={class:"form-content"},Pi={class:"number-input"},Ii=ot(()=>g("span",{class:"unit"},"PX",-1)),Ti={class:"form-item"},Mi=ot(()=>g("div",{class:"form-item-label"},"右边距：",-1)),Ni={class:"form-content"},Ri={class:"number-input"},Li=ot(()=>g("span",{class:"unit"},"PX",-1)),xi={class:"form-item"},Ui=ot(()=>g("div",{class:"form-item-label"},"显示未读消息数：",-1)),Fi={class:"form-content"},Di={class:"form-item"},Oi=ot(()=>g("div",{class:"form-item-label"},"显示新消息提示：",-1)),Vi={class:"form-content"},Hi={class:"form-item"},ji=ot(()=>g("div",{class:"form-item-label"},null,-1)),zi={class:"form-content"},Ki={__name:"float-icon-setting",props:{saveLoading:{type:Boolean,default:!1},form:{type:Object,default:()=>{}}},emits:["save"],setup(e,{expose:t,emit:o}){const i=e,s=o,n=Et({displayType:1,buttonText:"快来聊聊吧~",buttonIcon:"",bottomMargin:32,rightMargin:32,showUnreadCount:1,showNewMessageTip:1}),a=b=>{n.displayType=b},c=Ot(()=>n.buttonIcon?n.displayType==3:!0),l=b=>{let I=b[0];a(3),Oe({file:I,category:"icon"}).then(E=>{n.buttonIcon=E.data.link})},v=()=>{n.rightMargin,(n.rightMargin==""||n.rightMargin==null)&&(n.rightMargin=0),(n.bottomMargin==""||n.rightMargin==null)&&(n.bottomMargin=0),s("save",Bt(n))};return gt(()=>i.form,b=>{Object.assign(n,b.floatBtn)},{immediate:!0}),t({handleSubmit:v}),(b,I)=>{const E=jt,C=Qn,S=ze,N=Ht;return J(),$t(bt,{title:"悬浮图标设置"},{icon:B(()=>[y(nt(to),{name:"quick-Instruction",style:{"font-size":"16px",color:"#262626"}})]),default:B(()=>[g("div",ii,[W(ut(i.title)+" ",1),g("div",ri,[g("div",ai,[li,g("div",ci,[g("div",ui,[g("div",{class:ne(["display-type",{"is-checked":n.displayType==1}]),onClick:I[0]||(I[0]=$=>a(1))},hi,2),g("div",{class:ne(["display-type",{"is-checked":n.displayType==2}]),onClick:I[1]||(I[1]=$=>a(2))},mi,2),n.buttonIcon?(J(),X("div",{key:0,class:ne(["display-type",{"is-checked":n.displayType==3}]),onClick:I[2]||(I[2]=$=>a(3))},[g("div",_i,[g("img",{src:n.buttonIcon,alt:"",title:""},null,8,vi)]),yi],2)):St("",!0),c.value?(J(),X("div",bi,[y(Ve,{onChange:l},{default:B(()=>[g("div",wi,[y(nt(Wn),{style:{"font-size":"20px"}})])]),_:1}),g("div",Ci,ut(n.buttonIcon?"上传图片":"自定义"),1)])):St("",!0)])])]),n.displayType==2?(J(),X("div",ki,[Si,g("div",Ai,[y(E,{placeholder:"请输入按钮文案",maxlength:15,style:{width:"315px"},value:n.buttonText,"onUpdate:value":I[3]||(I[3]=$=>n.buttonText=$)},null,8,["value"])])])):St("",!0),g("div",Ei,[$i,g("div",Bi,[g("div",Pi,[y(C,{class:"input",value:n.bottomMargin,"onUpdate:value":I[4]||(I[4]=$=>n.bottomMargin=$)},null,8,["value"]),Ii])])]),g("div",Ti,[Mi,g("div",Ni,[g("div",Ri,[y(C,{class:"input",value:n.rightMargin,"onUpdate:value":I[5]||(I[5]=$=>n.rightMargin=$)},null,8,["value"]),Li])])]),g("div",xi,[Ui,g("div",Fi,[y(S,{checked:n.showUnreadCount,"onUpdate:checked":I[6]||(I[6]=$=>n.showUnreadCount=$),unCheckedValue:0,checkedValue:1},null,8,["checked"])])]),g("div",Di,[Oi,g("div",Vi,[y(S,{checked:n.showNewMessageTip,"onUpdate:checked":I[7]||(I[7]=$=>n.showNewMessageTip=$),unCheckedValue:0,checkedValue:1},null,8,["checked"])])]),g("div",Hi,[ji,g("div",zi,[y(N,{type:"primary",loading:i.saveLoading,onClick:v},{default:B(()=>[W("保存")]),_:1},8,["loading"])])])])])]),_:1})}}},qi=rt(Ki,[["__scopeId","data-v-a4615484"]]),Ji={class:"web-app-box"},Yi={class:"box-left"},Wi={class:"box-wrapper"},Qi={class:"web-app-style form-box"},Gi={class:"box-wrapper"},Xi={class:"sdk-code"},Zi={class:"box-wrapper"},tr={class:"box-wrapper"},er={class:"box-right"},nr={class:"demo-box"},or=["src"],sr={__name:"embed-website",setup(e){const t=Vt(),{robotInfo:o,external_config_pc:i}=Dt(t),{getRobot:s}=t,n=Ys(o.value),a=()=>{Fe(n),lt.success("复制成功")},c=Q(),l=Et({headTitle:i.value.headTitle,headSubTitle:i.value.headSubTitle,headImage:i.value.headImage,lang:i.value.lang,pageStyle:i.value.pageStyle,floatBtn:i.value.floatBtn}),v=Ot(()=>{let{pc_domain:$,robot_key:A}=o.value;return`${$}/web/#/chat?robot_key=${A}&language=zh-CN`});gt(l,$=>{I($)});const b=$=>{I($,"updataQuickComand")},I=($,A)=>{document.getElementById("web-preview").contentWindow.postMessage({type:A||"onPreview",data:JSON.parse(JSON.stringify($))},"*")},E={lang:[{required:!0,message:"请选择语言",trigger:"change"}],headTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>l.headImage?Promise.resolve():Promise.reject("请上传logo")}],pageStyle:{headBackgroundColor:[{required:!0,message:"请选择颜色",trigger:"change"}]}},C=()=>{const{id:$}=o.value;let A={...Bt(l)};De({id:$,external_config_pc:JSON.stringify(A)}).then(()=>{s($),lt.success("保存成功")})},S=()=>{c.value.validate().then(()=>{C()}).catch($=>{})},N=$=>{l.floatBtn={...$},S()};return($,A)=>{const L=ge,T=Ht,k=me,R=Ke,D=_e,z=ve,q=Pt;return J(),X("div",Ji,[g("div",Yi,[g("div",Wi,[y(bt,{title:"样式设置"},{icon:B(()=>[y(L,{name:"pc",style:{"font-size":"16px",color:"#262626"}})]),action:B(()=>[y(T,{onClick:S,size:"small",type:"primary"},{default:B(()=>[W("保存")]),_:1})]),default:B(()=>[g("div",Qi,[y(q,{ref_key:"formRef",ref:c,layout:"vertical",model:l,rules:E},{default:B(()=>[y(k,{class:"form-item",label:"页面标题",name:"headTitle"},{default:B(()=>[y(cn,{avatar:l.headImage,"onUpdate:avatar":A[0]||(A[0]=j=>l.headImage=j),value:l.headTitle,"onUpdate:value":A[1]||(A[1]=j=>l.headTitle=j)},null,8,["avatar","value"])]),_:1}),y(k,{class:"form-item",label:"简介",name:"headSubTitle"},{default:B(()=>[y(R,{value:l.headSubTitle,"onUpdate:value":A[2]||(A[2]=j=>l.headSubTitle=j),placeholder:"简介将展示在客户端，不超过100个字符"},null,8,["value"])]),_:1}),y(k,{class:"form-item",label:"颜色",name:["pageStyle","headBackgroundColor"]},{default:B(()=>[y(ni,{value:l.pageStyle.headBackgroundColor,"onUpdate:value":A[3]||(A[3]=j=>l.pageStyle.headBackgroundColor=j)},null,8,["value"])]),_:1}),y(k,{class:"form-item",label:"语言",name:"lang"},{default:B(()=>[y(z,{style:{width:"180px"},value:l.lang,"onUpdate:value":A[4]||(A[4]=j=>l.lang=j),placeholder:"请选择语言"},{default:B(()=>[y(D,{value:"zh-CN"},{default:B(()=>[W("简体中文")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1})]),g("div",Gi,[y(bt,{title:"将以下代码复制到网站代码的< /body>标签之前"},{icon:B(()=>[y(L,{name:"sdk",style:{"font-size":"16px",color:"#262626"}})]),action:B(()=>[y(T,{onClick:a,size:"small"},{default:B(()=>[W("复制")]),_:1})]),default:B(()=>[g("div",Xi,[g("pre",null,[g("code",null,ut(nt(n)),1)])])]),_:1})]),g("div",Zi,[y(dn,{type:nt(o).app_id_embed,onUpdata:b},null,8,["type"])]),g("div",tr,[y(qi,{form:l,onSave:N},null,8,["form"])])]),g("div",er,[g("div",nr,[g("iframe",{id:"web-preview",src:v.value,frameborder:"0"},null,8,or)])])])}}},ir=rt(sr,[["__scopeId","data-v-e8e93411"]]),rr={class:"external-services-page"},ar={class:"page-header"},lr={class:"page-body"},cr={class:"scroll-box"},ur={__name:"index",setup(e){const t=Vt(),{robotInfo:o}=Dt(t),{getRobot:i}=t,s={WebAPP:Js,EmbedWebsite:ir},n=Q("WebAPP"),a=c=>{n.value=c.id};return In("robotInfo",{robotInfo:o.value,getRobot:i}),(c,l)=>(J(),X("div",rr,[g("div",ar,[y(oo,{onChange:a,value:n.value,"onUpdate:value":l[0]||(l[0]=v=>n.value=v)},null,8,["value"])]),g("div",lr,[g("div",cr,[(J(),$t(Tn(s[n.value])))])])]))}},sa=rt(ur,[["__scopeId","data-v-52e761d5"]]);export{sa as default};
