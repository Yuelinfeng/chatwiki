import{aK as me,bO as Ut,aB as k,ch as Gt,aG as X,aR as ue,A as Ee,aI as Wt,aH as ht,aF as Ne,L as En,aC as Dn,aL as $n,c7 as Nn,aZ as Pn,bU as Ct,b1 as Tn,aO as Xt,bm as In,bN as dt,bB as ct,bC as de,b6 as Pe,bk as He,aJ as _n}from"../../index-DcJEzH23.js";import{s as M,h as we,e as De,p as Yt,b,d as Jt,j as m,f as Fn,A as Zt,v as Qt,x as en,w as ve,y as gt,o as An,E as Ln,G as Mn,n as jn,r as fe,F as Bn,a9 as at,B as Hn,l as Rn}from"./vue-chunks-C0QQWOCx.js";import{g as Re,e as ze,f as tn,h as ut,i as nn,c as an,j as ft,k as zn,l as Et,u as Vn,p as ot,a as lt,b as pe,m as qn,n as Dt,d as ke,o as Un}from"./useMaxLevel-B-LyG2ML.js";import{L as Gn}from"./index-y-d3D7NY.js";import{f as Wn,g as Xn}from"./collapseMotion-BOXZQl9Y.js";import{g as Yn}from"./index-CXGL5Fq2.js";import{d as Jn}from"./responsiveObserve-Ck_WQTyU.js";function ce(e){const t=M();return we(()=>{t.value=e()},{flush:"sync"}),t}const on=Symbol("TreeContextKey"),Zn=De({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return Yt(on,b(()=>e.value)),()=>{var a;return(a=n.default)===null||a===void 0?void 0:a.call(n)}}}),pt=()=>Jt(on,b(()=>({}))),ln=Symbol("KeysStateKey"),Qn=e=>{Yt(ln,e)},rn=()=>Jt(ln,{expandedKeys:M([]),selectedKeys:M([]),loadedKeys:M([]),loadingKeys:M([]),checkedKeys:M([]),halfCheckedKeys:M([]),expandedKeysSet:b(()=>new Set),selectedKeysSet:b(()=>new Set),loadedKeysSet:b(()=>new Set),loadingKeysSet:b(()=>new Set),checkedKeysSet:b(()=>new Set),halfCheckedKeysSet:b(()=>new Set),flattenNodes:M([])}),ea=e=>{let{prefixCls:t,level:n,isStart:a,isEnd:o}=e;const v=`${t}-indent-unit`,s=[];for(let p=0;p<n;p+=1)s.push(m("span",{key:p,class:{[v]:!0,[`${v}-start`]:a[p],[`${v}-end`]:o[p]}},null));return m("span",{"aria-hidden":"true",class:`${t}-indent`},[s])},ta=ea,sn={eventKey:[String,Number],prefixCls:String,title:me.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:me.any,switcherIcon:me.any,domRef:{type:Function}},na={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},dn=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:me.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:me.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:me.any,switcherIcon:me.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var aa=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const $t="open",Nt="close",oa="---",vt=De({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:sn,isTreeNode:1,setup(e,t){let{attrs:n,slots:a,expose:o}=t;Ut(!("slots"in e.data),`treeData slots is deprecated, please use ${Object.keys(e.data.slots||{}).map(l=>"`v-slot:"+l+"` ")}instead`);const v=M(!1),s=pt(),{expandedKeysSet:p,selectedKeysSet:w,loadedKeysSet:S,loadingKeysSet:D,checkedKeysSet:K,halfCheckedKeysSet:V}=rn(),{dragOverNodeKey:A,dropPosition:W,keyEntities:h}=s.value,f=b(()=>Re(e.eventKey,{expandedKeysSet:p.value,selectedKeysSet:w.value,loadedKeysSet:S.value,loadingKeysSet:D.value,checkedKeysSet:K.value,halfCheckedKeysSet:V.value,dragOverNodeKey:A,dropPosition:W,keyEntities:h})),O=ce(()=>f.value.expanded),z=ce(()=>f.value.selected),j=ce(()=>f.value.checked),G=ce(()=>f.value.loaded),B=ce(()=>f.value.loading),Y=ce(()=>f.value.halfChecked),J=ce(()=>f.value.dragOver),R=ce(()=>f.value.dragOverGapTop),u=ce(()=>f.value.dragOverGapBottom),C=ce(()=>f.value.pos),_=M(),Z=b(()=>{const{eventKey:l}=e,{keyEntities:d}=s.value,{children:I}=d[l]||{};return!!(I||[]).length}),H=b(()=>{const{isLeaf:l}=e,{loadData:d}=s.value,I=Z.value;return l===!1?!1:l||!d&&!I||d&&G.value&&!I}),ae=b(()=>H.value?null:O.value?$t:Nt),te=b(()=>{const{disabled:l}=e,{disabled:d}=s.value;return!!(d||l)}),Ke=b(()=>{const{checkable:l}=e,{checkable:d}=s.value;return!d||l===!1?!1:d}),re=b(()=>{const{selectable:l}=e,{selectable:d}=s.value;return typeof l=="boolean"?l:d}),T=b(()=>{const{data:l,active:d,checkable:I,disableCheckbox:U,disabled:Q,selectable:ee}=e;return k(k({active:d,checkable:I,disableCheckbox:U,disabled:Q,selectable:ee},l),{dataRef:l,data:l,isLeaf:H.value,checked:j.value,expanded:O.value,loading:B.value,selected:z.value,halfChecked:Y.value})}),ye=Fn(),q=b(()=>{const{eventKey:l}=e,{keyEntities:d}=s.value,{parent:I}=d[l]||{};return k(k({},ze(k({},e,f.value))),{parent:I})}),ne=Zt({eventData:q,eventKey:b(()=>e.eventKey),selectHandle:_,pos:C,key:ye.vnode.key});o(ne);const ie=l=>{const{onNodeDoubleClick:d}=s.value;d(l,q.value)},he=l=>{if(te.value)return;const{onNodeSelect:d}=s.value;l.preventDefault(),d(l,q.value)},Se=l=>{if(te.value)return;const{disableCheckbox:d}=e,{onNodeCheck:I}=s.value;if(!Ke.value||d)return;l.preventDefault();const U=!j.value;I(l,q.value,U)},$e=l=>{const{onNodeClick:d}=s.value;d(l,q.value),re.value?he(l):Se(l)},Te=l=>{const{onNodeMouseEnter:d}=s.value;d(l,q.value)},qe=l=>{const{onNodeMouseLeave:d}=s.value;d(l,q.value)},Ue=l=>{const{onNodeContextMenu:d}=s.value;d(l,q.value)},Ge=l=>{const{onNodeDragStart:d}=s.value;l.stopPropagation(),v.value=!0,d(l,ne);try{l.dataTransfer.setData("text/plain","")}catch{}},We=l=>{const{onNodeDragEnter:d}=s.value;l.preventDefault(),l.stopPropagation(),d(l,ne)},Xe=l=>{const{onNodeDragOver:d}=s.value;l.preventDefault(),l.stopPropagation(),d(l,ne)},Fe=l=>{const{onNodeDragLeave:d}=s.value;l.stopPropagation(),d(l,ne)},Ye=l=>{const{onNodeDragEnd:d}=s.value;l.stopPropagation(),v.value=!1,d(l,ne)},Je=l=>{const{onNodeDrop:d}=s.value;l.preventDefault(),l.stopPropagation(),v.value=!1,d(l,ne)},Ae=l=>{const{onNodeExpand:d}=s.value;B.value||d(l,q.value)},Le=()=>{const{data:l}=e,{draggable:d}=s.value;return!!(d&&(!d.nodeDraggable||d.nodeDraggable(l)))},Me=()=>{const{draggable:l,prefixCls:d}=s.value;return l&&(l!=null&&l.icon)?m("span",{class:`${d}-draggable-icon`},[l.icon]):null},Ze=()=>{var l,d,I;const{switcherIcon:U=a.switcherIcon||((l=s.value.slots)===null||l===void 0?void 0:l[(I=(d=e.data)===null||d===void 0?void 0:d.slots)===null||I===void 0?void 0:I.switcherIcon])}=e,{switcherIcon:Q}=s.value,ee=U||Q;return typeof ee=="function"?ee(T.value):ee},je=()=>{const{loadData:l,onNodeLoad:d}=s.value;B.value||l&&O.value&&!H.value&&!Z.value&&!G.value&&d(q.value)};Qt(()=>{je()}),en(()=>{je()});const Qe=()=>{const{prefixCls:l}=s.value,d=Ze();if(H.value)return d!==!1?m("span",{class:ue(`${l}-switcher`,`${l}-switcher-noop`)},[d]):null;const I=ue(`${l}-switcher`,`${l}-switcher_${O.value?$t:Nt}`);return d!==!1?m("span",{onClick:Ae,class:I},[d]):null},et=()=>{var l,d;const{disableCheckbox:I}=e,{prefixCls:U}=s.value,Q=te.value;return Ke.value?m("span",{class:ue(`${U}-checkbox`,j.value&&`${U}-checkbox-checked`,!j.value&&Y.value&&`${U}-checkbox-indeterminate`,(Q||I)&&`${U}-checkbox-disabled`),onClick:Se},[(d=(l=s.value).customCheckable)===null||d===void 0?void 0:d.call(l)]):null},Be=()=>{const{prefixCls:l}=s.value;return m("span",{class:ue(`${l}-iconEle`,`${l}-icon__${ae.value||"docu"}`,B.value&&`${l}-icon_loading`)},null)},Oe=()=>{const{disabled:l,eventKey:d}=e,{draggable:I,dropLevelOffset:U,dropPosition:Q,prefixCls:ee,indent:r,dropIndicatorRender:i,dragOverNodeKey:c,direction:g}=s.value;return!l&&I!==!1&&c===d?i({dropPosition:Q,dropLevelOffset:U,indent:r,prefixCls:ee,direction:g}):null},tt=()=>{var l,d,I,U,Q,ee;const{icon:r=a.icon,data:i}=e,c=a.title||((l=s.value.slots)===null||l===void 0?void 0:l[(I=(d=e.data)===null||d===void 0?void 0:d.slots)===null||I===void 0?void 0:I.title])||((U=s.value.slots)===null||U===void 0?void 0:U.title)||e.title,{prefixCls:g,showIcon:E,icon:x,loadData:y}=s.value,N=te.value,L=`${g}-node-content-wrapper`;let $;if(E){const oe=r||((Q=s.value.slots)===null||Q===void 0?void 0:Q[(ee=i==null?void 0:i.slots)===null||ee===void 0?void 0:ee.icon])||x;$=oe?m("span",{class:ue(`${g}-iconEle`,`${g}-icon__customize`)},[typeof oe=="function"?oe(T.value):oe]):Be()}else y&&B.value&&($=Be());let P;typeof c=="function"?P=c(T.value):P=c,P=P===void 0?oa:P;const F=m("span",{class:`${g}-title`},[P]);return m("span",{ref:_,title:typeof c=="string"?c:"",class:ue(`${L}`,`${L}-${ae.value||"normal"}`,!N&&(z.value||v.value)&&`${g}-node-selected`),onMouseenter:Te,onMouseleave:qe,onContextmenu:Ue,onClick:$e,onDblclick:ie},[$,F,Oe()])};return()=>{const l=k(k({},e),n),{eventKey:d,isLeaf:I,isStart:U,isEnd:Q,domRef:ee,active:r,data:i,onMousemove:c,selectable:g}=l,E=aa(l,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:x,filterTreeNode:y,keyEntities:N,dropContainerKey:L,dropTargetKey:$,draggingNodeKey:P}=s.value,F=te.value,oe=Gt(E,{aria:!0,data:!0}),{level:ge}=N[d]||{},se=Q[Q.length-1],le=Le(),xe=!F&&le,Ie=P===d,nt=g!==void 0?{"aria-selected":!!g}:void 0;return m("div",X(X({ref:ee,class:ue(n.class,`${x}-treenode`,{[`${x}-treenode-disabled`]:F,[`${x}-treenode-switcher-${O.value?"open":"close"}`]:!I,[`${x}-treenode-checkbox-checked`]:j.value,[`${x}-treenode-checkbox-indeterminate`]:Y.value,[`${x}-treenode-selected`]:z.value,[`${x}-treenode-loading`]:B.value,[`${x}-treenode-active`]:r,[`${x}-treenode-leaf-last`]:se,[`${x}-treenode-draggable`]:xe,dragging:Ie,"drop-target":$===d,"drop-container":L===d,"drag-over":!F&&J.value,"drag-over-gap-top":!F&&R.value,"drag-over-gap-bottom":!F&&u.value,"filter-node":y&&y(q.value)}),style:n.style,draggable:xe,"aria-grabbed":Ie,onDragstart:xe?Ge:void 0,onDragenter:le?We:void 0,onDragover:le?Xe:void 0,onDragleave:le?Fe:void 0,onDrop:le?Je:void 0,onDragend:le?Ye:void 0,onMousemove:c},nt),oe),[m(ta,{prefixCls:x,level:ge,isStart:U,isEnd:Q},null),Me(),Qe(),et(),tt()])}}});var la={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};const ra=la;function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){ia(e,o,n[o])})}return e}function ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt=function(t,n){var a=Pt({},t,n.attrs);return m(Ee,Pt({},a,{icon:ra}),null)};bt.displayName="CaretDownOutlined";bt.inheritAttrs=!1;const lo=bt;var Tt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const sa=De({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:k(k({},sn),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,t){let{attrs:n,slots:a}=t;const o=M(!0),v=pt(),s=M(!1),p=b(()=>e.motion?e.motion:Wn()),w=(S,D)=>{var K,V,A,W;D==="appear"?(V=(K=p.value)===null||K===void 0?void 0:K.onAfterEnter)===null||V===void 0||V.call(K,S):D==="leave"&&((W=(A=p.value)===null||A===void 0?void 0:A.onAfterLeave)===null||W===void 0||W.call(A,S)),s.value||e.onMotionEnd(),s.value=!0};return ve(()=>e.motionNodes,()=>{e.motionNodes&&e.motionType==="hide"&&o.value&&gt(()=>{o.value=!1})},{immediate:!0,flush:"post"}),Qt(()=>{e.motionNodes&&e.onMotionStart()}),An(()=>{e.motionNodes&&w()}),()=>{const{motion:S,motionNodes:D,motionType:K,active:V,eventKey:A}=e,W=Tt(e,["motion","motionNodes","motionType","active","eventKey"]);return D?m(jn,X(X({},p.value),{},{appear:K==="show",onAfterAppear:h=>w(h,"appear"),onAfterLeave:h=>w(h,"leave")}),{default:()=>[Ln(m("div",{class:`${v.value.prefixCls}-treenode-motion`},[D.map(h=>{const f=Tt(h.data,[]),{title:O,key:z,isStart:j,isEnd:G}=h;return delete f.children,m(vt,X(X({},f),{},{title:O,active:V,data:h.data,key:z,eventKey:z,isStart:j,isEnd:G}),a)})]),[[Mn,o.value]])]}):m(vt,X(X({class:n.class,style:n.style},W),{},{active:V,eventKey:A}),a)}}});function da(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=e.length,a=t.length;if(Math.abs(n-a)!==1)return{add:!1,key:null};function o(v,s){const p=new Map;v.forEach(S=>{p.set(S,!0)});const w=s.filter(S=>!p.has(S));return w.length===1?w[0]:null}return n<a?{add:!0,key:o(e,t)}:{add:!1,key:o(t,e)}}function It(e,t,n){const a=e.findIndex(s=>s.key===n),o=e[a+1],v=t.findIndex(s=>s.key===n);if(o){const s=t.findIndex(p=>p.key===o.key);return t.slice(v+1,s)}return t.slice(v+1)}var _t=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const Ft={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},ca=()=>{},Ce=`RC_TREE_MOTION_${Math.random()}`,yt={key:Ce},cn={key:Ce,level:0,index:0,pos:"0",node:yt,nodes:[yt]},At={parent:null,children:[],pos:cn.pos,data:yt,title:null,key:Ce,isStart:[],isEnd:[]};function Lt(e,t,n,a){return t===!1||!n?e:e.slice(0,Math.ceil(n/a)+1)}function Mt(e){const{key:t,pos:n}=e;return tn(t,n)}function ua(e){let t=String(e.key),n=e;for(;n.parent;)n=n.parent,t=`${n.key} > ${t}`;return t}const fa=De({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:na,setup(e,t){let{expose:n,attrs:a}=t;const o=fe(),v=fe(),{expandedKeys:s,flattenNodes:p}=rn();n({scrollTo:h=>{o.value.scrollTo(h)},getIndentWidth:()=>v.value.offsetWidth});const w=M(p.value),S=M([]),D=fe(null);function K(){w.value=p.value,S.value=[],D.value=null,e.onListChangeEnd()}const V=pt();ve([()=>s.value.slice(),p],(h,f)=>{let[O,z]=h,[j,G]=f;const B=da(j,O);if(B.key!==null){const{virtual:Y,height:J,itemHeight:R}=e;if(B.add){const u=G.findIndex(Z=>{let{key:H}=Z;return H===B.key}),C=Lt(It(G,z,B.key),Y,J,R),_=G.slice();_.splice(u+1,0,At),w.value=_,S.value=C,D.value="show"}else{const u=z.findIndex(Z=>{let{key:H}=Z;return H===B.key}),C=Lt(It(z,G,B.key),Y,J,R),_=z.slice();_.splice(u+1,0,At),w.value=_,S.value=C,D.value="hide"}}else G!==z&&(w.value=z)}),ve(()=>V.value.dragging,h=>{h||K()});const A=b(()=>e.motion===void 0?w.value:p.value),W=()=>{e.onActiveChange(null)};return()=>{const h=k(k({},e),a),{prefixCls:f,selectable:O,checkable:z,disabled:j,motion:G,height:B,itemHeight:Y,virtual:J,focusable:R,activeItem:u,focused:C,tabindex:_,onKeydown:Z,onFocus:H,onBlur:ae,onListChangeStart:te,onListChangeEnd:Ke}=h,re=_t(h,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return m(Bn,null,[C&&u&&m("span",{style:Ft,"aria-live":"assertive"},[ua(u)]),m("div",null,[m("input",{style:Ft,disabled:R===!1||j,tabindex:R!==!1?_:null,onKeydown:Z,onFocus:H,onBlur:ae,value:"",onChange:ca,"aria-label":"for screen reader"},null)]),m("div",{class:`${f}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[m("div",{class:`${f}-indent`},[m("div",{ref:v,class:`${f}-indent-unit`},null)])]),m(Gn,X(X({},Wt(re,["onActiveChange"])),{},{data:A.value,itemKey:Mt,height:B,fullHeight:!1,virtual:J,itemHeight:Y,prefixCls:`${f}-list`,ref:o,onVisibleChange:(T,ye)=>{const q=new Set(T);ye.filter(ie=>!q.has(ie)).some(ie=>Mt(ie)===Ce)&&K()}}),{default:T=>{const{pos:ye}=T,q=_t(T.data,[]),{title:ne,key:ie,isStart:he,isEnd:Se}=T,$e=tn(ie,ye);return delete q.key,delete q.children,m(sa,X(X({},q),{},{eventKey:$e,title:ne,active:!!u&&ie===u.key,data:T.data,isStart:he,isEnd:Se,motion:G,motionNodes:ie===Ce?S.value:null,motionType:D.value,onMotionStart:te,onMotionEnd:K,onMousemove:W}),null)}})])}}});function va(e){let{dropPosition:t,dropLevelOffset:n,indent:a}=e;const o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(t){case-1:o.top=0,o.left=`${-n*a}px`;break;case 1:o.bottom=0,o.left=`${-n*a}px`;break;case 0:o.bottom=0,o.left=`${a}`;break}return m("div",{style:o},null)}const ya=10,ha=De({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:ht(dn(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:va,allowDrop:()=>!0}),setup(e,t){let{attrs:n,slots:a,expose:o}=t;const v=M(!1);let s={};const p=M(),w=M([]),S=M([]),D=M([]),K=M([]),V=M([]),A=M([]),W={},h=Zt({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),f=M([]);ve([()=>e.treeData,()=>e.children],()=>{f.value=e.treeData!==void 0?at(e.treeData).slice():ut(at(e.children))},{immediate:!0,deep:!0});const O=M({}),z=M(!1),j=M(null),G=M(!1),B=b(()=>nn(e.fieldNames)),Y=M();let J=null,R=null,u=null;const C=b(()=>({expandedKeysSet:_.value,selectedKeysSet:Z.value,loadedKeysSet:H.value,loadingKeysSet:ae.value,checkedKeysSet:te.value,halfCheckedKeysSet:Ke.value,dragOverNodeKey:h.dragOverNodeKey,dropPosition:h.dropPosition,keyEntities:O.value})),_=b(()=>new Set(A.value)),Z=b(()=>new Set(w.value)),H=b(()=>new Set(K.value)),ae=b(()=>new Set(V.value)),te=b(()=>new Set(S.value)),Ke=b(()=>new Set(D.value));we(()=>{if(f.value){const r=an(f.value,{fieldNames:B.value});O.value=k({[Ce]:cn},r.keyEntities)}});let re=!1;ve([()=>e.expandedKeys,()=>e.autoExpandParent,O],(r,i)=>{let[c,g]=r,[E,x]=i,y=A.value;if(e.expandedKeys!==void 0||re&&g!==x)y=e.autoExpandParent||!re&&e.defaultExpandParent?ft(e.expandedKeys,O.value):e.expandedKeys;else if(!re&&e.defaultExpandAll){const N=k({},O.value);delete N[Ce],y=Object.keys(N).map(L=>N[L].key)}else!re&&e.defaultExpandedKeys&&(y=e.autoExpandParent||e.defaultExpandParent?ft(e.defaultExpandedKeys,O.value):e.defaultExpandedKeys);y&&(A.value=y),re=!0},{immediate:!0});const T=M([]);we(()=>{T.value=zn(f.value,A.value,B.value)}),we(()=>{e.selectable&&(e.selectedKeys!==void 0?w.value=Et(e.selectedKeys,e):!re&&e.defaultSelectedKeys&&(w.value=Et(e.defaultSelectedKeys,e)))});const{maxLevel:ye,levelEntities:q}=Vn(O);we(()=>{if(e.checkable){let r;if(e.checkedKeys!==void 0?r=ot(e.checkedKeys)||{}:!re&&e.defaultCheckedKeys?r=ot(e.defaultCheckedKeys)||{}:f.value&&(r=ot(e.checkedKeys)||{checkedKeys:S.value,halfCheckedKeys:D.value}),r){let{checkedKeys:i=[],halfCheckedKeys:c=[]}=r;e.checkStrictly||({checkedKeys:i,halfCheckedKeys:c}=lt(i,!0,O.value,ye.value,q.value)),S.value=i,D.value=c}}}),we(()=>{e.loadedKeys&&(K.value=e.loadedKeys)});const ne=()=>{k(h,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ie=r=>{Y.value.scrollTo(r)};ve(()=>e.activeKey,()=>{e.activeKey!==void 0&&(j.value=e.activeKey)},{immediate:!0}),ve(j,r=>{gt(()=>{r!==null&&ie({key:r})})},{immediate:!0,flush:"post"});const he=r=>{e.expandedKeys===void 0&&(A.value=r)},Se=()=>{h.draggingNodeKey!==null&&k(h,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),J=null,u=null},$e=(r,i)=>{const{onDragend:c}=e;h.dragOverNodeKey=null,Se(),c==null||c({event:r,node:i.eventData}),R=null},Te=r=>{$e(r,null),window.removeEventListener("dragend",Te)},qe=(r,i)=>{const{onDragstart:c}=e,{eventKey:g,eventData:E}=i;R=i,J={x:r.clientX,y:r.clientY};const x=pe(A.value,g);h.draggingNodeKey=g,h.dragChildrenKeys=qn(g,O.value),p.value=Y.value.getIndentWidth(),he(x),window.addEventListener("dragend",Te),c&&c({event:r,node:E})},Ue=(r,i)=>{const{onDragenter:c,onExpand:g,allowDrop:E,direction:x}=e,{pos:y,eventKey:N}=i;if(u!==N&&(u=N),!R){ne();return}const{dropPosition:L,dropLevelOffset:$,dropTargetKey:P,dropContainerKey:F,dropTargetPos:oe,dropAllowed:ge,dragOverNodeKey:se}=Dt(r,R,i,p.value,J,E,T.value,O.value,_.value,x);if(h.dragChildrenKeys.indexOf(P)!==-1||!ge){ne();return}if(s||(s={}),Object.keys(s).forEach(le=>{clearTimeout(s[le])}),R.eventKey!==i.eventKey&&(s[y]=window.setTimeout(()=>{if(h.draggingNodeKey===null)return;let le=A.value.slice();const xe=O.value[i.eventKey];xe&&(xe.children||[]).length&&(le=ke(A.value,i.eventKey)),he(le),g&&g(le,{node:i.eventData,expanded:!0,nativeEvent:r})},800)),R.eventKey===P&&$===0){ne();return}k(h,{dragOverNodeKey:se,dropPosition:L,dropLevelOffset:$,dropTargetKey:P,dropContainerKey:F,dropTargetPos:oe,dropAllowed:ge}),c&&c({event:r,node:i.eventData,expandedKeys:A.value})},Ge=(r,i)=>{const{onDragover:c,allowDrop:g,direction:E}=e;if(!R)return;const{dropPosition:x,dropLevelOffset:y,dropTargetKey:N,dropContainerKey:L,dropAllowed:$,dropTargetPos:P,dragOverNodeKey:F}=Dt(r,R,i,p.value,J,g,T.value,O.value,_.value,E);h.dragChildrenKeys.indexOf(N)!==-1||!$||(R.eventKey===N&&y===0?h.dropPosition===null&&h.dropLevelOffset===null&&h.dropTargetKey===null&&h.dropContainerKey===null&&h.dropTargetPos===null&&h.dropAllowed===!1&&h.dragOverNodeKey===null||ne():x===h.dropPosition&&y===h.dropLevelOffset&&N===h.dropTargetKey&&L===h.dropContainerKey&&P===h.dropTargetPos&&$===h.dropAllowed&&F===h.dragOverNodeKey||k(h,{dropPosition:x,dropLevelOffset:y,dropTargetKey:N,dropContainerKey:L,dropTargetPos:P,dropAllowed:$,dragOverNodeKey:F}),c&&c({event:r,node:i.eventData}))},We=(r,i)=>{u===i.eventKey&&!r.currentTarget.contains(r.relatedTarget)&&(ne(),u=null);const{onDragleave:c}=e;c&&c({event:r,node:i.eventData})},Xe=function(r,i){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var g;const{dragChildrenKeys:E,dropPosition:x,dropTargetKey:y,dropTargetPos:N,dropAllowed:L}=h;if(!L)return;const{onDrop:$}=e;if(h.dragOverNodeKey=null,Se(),y===null)return;const P=k(k({},Re(y,at(C.value))),{active:((g=I.value)===null||g===void 0?void 0:g.key)===y,data:O.value[y].node});E.indexOf(y);const F=Un(N),oe={event:r,node:ze(P),dragNode:R?R.eventData:null,dragNodesKeys:[R.eventKey].concat(E),dropToGap:x!==0,dropPosition:x+Number(F[F.length-1])};c||$==null||$(oe),R=null},Fe=(r,i)=>{const{expanded:c,key:g}=i,E=T.value.filter(y=>y.key===g)[0],x=ze(k(k({},Re(g,C.value)),{data:E.data}));he(c?pe(A.value,g):ke(A.value,g)),Oe(r,x)},Ye=(r,i)=>{const{onClick:c,expandAction:g}=e;g==="click"&&Fe(r,i),c&&c(r,i)},Je=(r,i)=>{const{onDblclick:c,expandAction:g}=e;(g==="doubleclick"||g==="dblclick")&&Fe(r,i),c&&c(r,i)},Ae=(r,i)=>{let c=w.value;const{onSelect:g,multiple:E}=e,{selected:x}=i,y=i[B.value.key],N=!x;N?E?c=ke(c,y):c=[y]:c=pe(c,y);const L=O.value,$=c.map(P=>{const F=L[P];return F?F.node:null}).filter(P=>P);e.selectedKeys===void 0&&(w.value=c),g&&g(c,{event:"select",selected:N,node:i,selectedNodes:$,nativeEvent:r})},Le=(r,i,c)=>{const{checkStrictly:g,onCheck:E}=e,x=i[B.value.key];let y;const N={event:"check",node:i,checked:c,nativeEvent:r},L=O.value;if(g){const $=c?ke(S.value,x):pe(S.value,x),P=pe(D.value,x);y={checked:$,halfChecked:P},N.checkedNodes=$.map(F=>L[F]).filter(F=>F).map(F=>F.node),e.checkedKeys===void 0&&(S.value=$)}else{let{checkedKeys:$,halfCheckedKeys:P}=lt([...S.value,x],!0,L,ye.value,q.value);if(!c){const F=new Set($);F.delete(x),{checkedKeys:$,halfCheckedKeys:P}=lt(Array.from(F),{checked:!1,halfCheckedKeys:P},L,ye.value,q.value)}y=$,N.checkedNodes=[],N.checkedNodesPositions=[],N.halfCheckedKeys=P,$.forEach(F=>{const oe=L[F];if(!oe)return;const{node:ge,pos:se}=oe;N.checkedNodes.push(ge),N.checkedNodesPositions.push({node:ge,pos:se})}),e.checkedKeys===void 0&&(S.value=$,D.value=P)}E&&E(y,N)},Me=r=>{const i=r[B.value.key],c=new Promise((g,E)=>{const{loadData:x,onLoad:y}=e;if(!x||H.value.has(i)||ae.value.has(i))return null;x(r).then(()=>{const L=ke(K.value,i),$=pe(V.value,i);y&&y(L,{event:"load",node:r}),e.loadedKeys===void 0&&(K.value=L),V.value=$,g()}).catch(L=>{const $=pe(V.value,i);if(V.value=$,W[i]=(W[i]||0)+1,W[i]>=ya){const P=ke(K.value,i);e.loadedKeys===void 0&&(K.value=P),g()}E(L)}),V.value=ke(V.value,i)});return c.catch(()=>{}),c},Ze=(r,i)=>{const{onMouseenter:c}=e;c&&c({event:r,node:i})},je=(r,i)=>{const{onMouseleave:c}=e;c&&c({event:r,node:i})},Qe=(r,i)=>{const{onRightClick:c}=e;c&&(r.preventDefault(),c({event:r,node:i}))},et=r=>{const{onFocus:i}=e;z.value=!0,i&&i(r)},Be=r=>{const{onBlur:i}=e;z.value=!1,d(null),i&&i(r)},Oe=(r,i)=>{let c=A.value;const{onExpand:g,loadData:E}=e,{expanded:x}=i,y=i[B.value.key];if(G.value)return;c.indexOf(y);const N=!x;if(N?c=ke(c,y):c=pe(c,y),he(c),g&&g(c,{node:i,expanded:N,nativeEvent:r}),N&&E){const L=Me(i);L&&L.then(()=>{}).catch($=>{const P=pe(A.value,y);he(P),Promise.reject($)})}},tt=()=>{G.value=!0},l=()=>{setTimeout(()=>{G.value=!1})},d=r=>{const{onActiveChange:i}=e;j.value!==r&&(e.activeKey!==void 0&&(j.value=r),r!==null&&ie({key:r}),i&&i(r))},I=b(()=>j.value===null?null:T.value.find(r=>{let{key:i}=r;return i===j.value})||null),U=r=>{let i=T.value.findIndex(g=>{let{key:E}=g;return E===j.value});i===-1&&r<0&&(i=T.value.length),i=(i+r+T.value.length)%T.value.length;const c=T.value[i];if(c){const{key:g}=c;d(g)}else d(null)},Q=b(()=>ze(k(k({},Re(j.value,C.value)),{data:I.value.data,active:!0}))),ee=r=>{const{onKeydown:i,checkable:c,selectable:g}=e;switch(r.which){case Ne.UP:{U(-1),r.preventDefault();break}case Ne.DOWN:{U(1),r.preventDefault();break}}const E=I.value;if(E&&E.data){const x=E.data.isLeaf===!1||!!(E.data.children||[]).length,y=Q.value;switch(r.which){case Ne.LEFT:{x&&_.value.has(j.value)?Oe({},y):E.parent&&d(E.parent.key),r.preventDefault();break}case Ne.RIGHT:{x&&!_.value.has(j.value)?Oe({},y):E.children&&E.children.length&&d(E.children[0].key),r.preventDefault();break}case Ne.ENTER:case Ne.SPACE:{c&&!y.disabled&&y.checkable!==!1&&!y.disableCheckbox?Le({},y,!te.value.has(j.value)):!c&&g&&!y.disabled&&y.selectable!==!1&&Ae({},y);break}}}i&&i(r)};return o({onNodeExpand:Oe,scrollTo:ie,onKeydown:ee,selectedKeys:b(()=>w.value),checkedKeys:b(()=>S.value),halfCheckedKeys:b(()=>D.value),loadedKeys:b(()=>K.value),loadingKeys:b(()=>V.value),expandedKeys:b(()=>A.value)}),Hn(()=>{window.removeEventListener("dragend",Te),v.value=!0}),Qn({expandedKeys:A,selectedKeys:w,loadedKeys:K,loadingKeys:V,checkedKeys:S,halfCheckedKeys:D,expandedKeysSet:_,selectedKeysSet:Z,loadedKeysSet:H,loadingKeysSet:ae,checkedKeysSet:te,halfCheckedKeysSet:Ke,flattenNodes:T}),()=>{const{draggingNodeKey:r,dropLevelOffset:i,dropContainerKey:c,dropTargetKey:g,dropPosition:E,dragOverNodeKey:x}=h,{prefixCls:y,showLine:N,focusable:L,tabindex:$=0,selectable:P,showIcon:F,icon:oe=a.icon,switcherIcon:ge,draggable:se,checkable:le,checkStrictly:xe,disabled:Ie,motion:nt,loadData:vn,filterTreeNode:yn,height:hn,itemHeight:gn,virtual:pn,dropIndicatorRender:bn,onContextmenu:mn,onScroll:Kn,direction:xn,rootClassName:kn,rootStyle:Sn}=e,{class:On,style:wn}=n,Cn=Gt(k(k({},e),n),{aria:!0,data:!0});let _e;return se?typeof se=="object"?_e=se:typeof se=="function"?_e={nodeDraggable:se}:_e={}:_e=!1,m(Zn,{value:{prefixCls:y,selectable:P,showIcon:F,icon:oe,switcherIcon:ge,draggable:_e,draggingNodeKey:r,checkable:le,customCheckable:a.checkable,checkStrictly:xe,disabled:Ie,keyEntities:O.value,dropLevelOffset:i,dropContainerKey:c,dropTargetKey:g,dropPosition:E,dragOverNodeKey:x,dragging:r!==null,indent:p.value,direction:xn,dropIndicatorRender:bn,loadData:vn,filterTreeNode:yn,onNodeClick:Ye,onNodeDoubleClick:Je,onNodeExpand:Oe,onNodeSelect:Ae,onNodeCheck:Le,onNodeLoad:Me,onNodeMouseEnter:Ze,onNodeMouseLeave:je,onNodeContextMenu:Qe,onNodeDragStart:qe,onNodeDragEnter:Ue,onNodeDragOver:Ge,onNodeDragLeave:We,onNodeDragEnd:$e,onNodeDrop:Xe,slots:a}},{default:()=>[m("div",{role:"tree",class:ue(y,On,kn,{[`${y}-show-line`]:N,[`${y}-focused`]:z.value,[`${y}-active-focused`]:j.value!==null}),style:Sn},[m(fa,X({ref:Y,prefixCls:y,style:wn,disabled:Ie,selectable:P,checkable:!!le,motion:nt,height:hn,itemHeight:gn,virtual:pn,focusable:L,focused:z.value,tabindex:$,activeItem:I.value,onFocus:et,onBlur:Be,onKeydown:ee,onActiveChange:d,onListChangeStart:tt,onListChangeEnd:l,onContextmenu:mn,onScroll:Kn},Cn),null)])]})}}});var ga={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const pa=ga;function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){ba(e,o,n[o])})}return e}function ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=function(t,n){var a=jt({},t,n.attrs);return m(Ee,jt({},a,{icon:pa}),null)};mt.displayName="FileOutlined";mt.inheritAttrs=!1;const un=mt;var ma={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const Ka=ma;function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){xa(e,o,n[o])})}return e}function xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=function(t,n){var a=Bt({},t,n.attrs);return m(Ee,Bt({},a,{icon:Ka}),null)};Kt.displayName="MinusSquareOutlined";Kt.inheritAttrs=!1;const ka=Kt;var Sa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const Oa=Sa;function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){wa(e,o,n[o])})}return e}function wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=function(t,n){var a=Ht({},t,n.attrs);return m(Ee,Ht({},a,{icon:Oa}),null)};xt.displayName="PlusSquareOutlined";xt.inheritAttrs=!1;const Ca=xt;var Ea={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const Da=Ea;function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){$a(e,o,n[o])})}return e}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kt=function(t,n){var a=Rt({},t,n.attrs);return m(Ee,Rt({},a,{icon:Da}),null)};kt.displayName="CaretDownFilled";kt.inheritAttrs=!1;const Na=kt;function Pa(e,t,n,a,o){const{isLeaf:v,expanded:s,loading:p}=n;let w=t;if(p)return m(En,{class:`${e}-switcher-loading-icon`},null);let S;o&&typeof o=="object"&&(S=o.showLeafIcon);let D=null;const K=`${e}-switcher-icon`;return v?o?S&&a?a(n):(typeof o=="object"&&!S?D=m("span",{class:`${e}-switcher-leaf-line`},null):D=m(un,{class:`${e}-switcher-line-icon`},null),D):null:(D=m(Na,{class:K},null),o&&(D=s?m(ka,{class:`${e}-switcher-line-icon`},null):m(Ca,{class:`${e}-switcher-line-icon`},null)),typeof t=="function"?w=t(k(k({},n),{defaultIcon:D,switcherCls:K})):Dn(w)&&(w=Rn(w,{class:K})),w||D)}const zt=4;function Ta(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:a,indent:o,direction:v="ltr"}=e,s=v==="ltr"?"left":"right",p=v==="ltr"?"right":"left",w={[s]:`${-n*o+zt}px`,[p]:0};switch(t){case-1:w.top="-3px";break;case 1:w.bottom="-3px";break;default:w.bottom="-3px",w[s]=`${o+zt}px`;break}return m("div",{style:w,class:`${a}-drop-indicator`},null)}const Ia=new Nn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),_a=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Fa=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Aa=(e,t)=>{const{treeCls:n,treeNodeCls:a,treeNodePadding:o,treeTitleHeight:v}=t,s=(v-t.fontSizeLG)/2,p=t.paddingXS;return{[n]:k(k({},Tn(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:k({},Ct(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${a}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:Ia,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${a}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${o}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:k({},Ct(t)),[`&:not(${a}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${n}-draggable-icon`]:{width:v,lineHeight:`${v}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${a}:hover &`]:{opacity:.45}},[`&${a}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:v}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:k(k({},_a(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:v,margin:0,lineHeight:`${v}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:v/2,bottom:-o,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:v/2*.8,height:v/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:p,marginBlockStart:s},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:v,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${v}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:t.controlItemBgHover},[`&${n}-node-selected`]:{backgroundColor:t.controlItemBgActive},[`${n}-iconEle`]:{display:"inline-block",width:v,height:v,lineHeight:`${v}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:k({lineHeight:`${v}px`,userSelect:"none"},Fa(e,t)),[`${a}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:v/2,bottom:-o,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${a}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${v/2}px !important`}}}}})}},La=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:a}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},[`${t}-switcher`]:{color:e.colorTextLightSolid},[`${t}-node-content-wrapper`]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},Ma=(e,t)=>{const n=`.${e}`,a=`${n}-treenode`,o=t.paddingXS/2,v=t.controlHeightSM,s=Pn(t,{treeCls:n,treeNodeCls:a,treeNodePadding:o,treeTitleHeight:v});return[Aa(e,s),La(s)]},ja=$n("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:Yn(`${n}-checkbox`,e)},Ma(n,e),Xn(e)]}),fn=()=>{const e=dn();return k(k({},e),{showLine:ct([Boolean,Object]),multiple:de(),autoExpandParent:de(),checkStrictly:de(),checkable:de(),disabled:de(),defaultExpandAll:de(),defaultExpandParent:de(),defaultExpandedKeys:Pe(),expandedKeys:Pe(),checkedKeys:ct([Array,Object]),defaultCheckedKeys:Pe(),selectedKeys:Pe(),defaultSelectedKeys:Pe(),selectable:de(),loadedKeys:Pe(),draggable:de(),showIcon:de(),icon:He(),switcherIcon:me.any,prefixCls:String,replaceFields:_n(),blockNode:de(),openAnimation:me.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":He(),"onUpdate:checkedKeys":He(),"onUpdate:expandedKeys":He()})},Ve=De({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:ht(fn(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:Object,setup(e,t){let{attrs:n,expose:a,emit:o,slots:v}=t;Ut(!(e.treeData===void 0&&v.default));const{prefixCls:s,direction:p,virtual:w}=Xt("tree",e),[S,D]=ja(s),K=fe();a({treeRef:K,onNodeExpand:function(){var f;(f=K.value)===null||f===void 0||f.onNodeExpand(...arguments)},scrollTo:f=>{var O;(O=K.value)===null||O===void 0||O.scrollTo(f)},selectedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.selectedKeys}),checkedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.checkedKeys}),halfCheckedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.halfCheckedKeys}),loadedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.loadedKeys}),loadingKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.loadingKeys}),expandedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.expandedKeys})}),we(()=>{In(e.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});const A=(f,O)=>{o("update:checkedKeys",f),o("check",f,O)},W=(f,O)=>{o("update:expandedKeys",f),o("expand",f,O)},h=(f,O)=>{o("update:selectedKeys",f),o("select",f,O)};return()=>{const{showIcon:f,showLine:O,switcherIcon:z=v.switcherIcon,icon:j=v.icon,blockNode:G,checkable:B,selectable:Y,fieldNames:J=e.replaceFields,motion:R=e.openAnimation,itemHeight:u=28,onDoubleclick:C,onDblclick:_}=e,Z=k(k(k({},n),Wt(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:!!O,dropIndicatorRender:Ta,fieldNames:J,icon:j,itemHeight:u}),H=v.default?dt(v.default()):void 0;return S(m(ha,X(X({},Z),{},{virtual:w.value,motion:R,ref:K,prefixCls:s.value,class:ue({[`${s.value}-icon-hide`]:!f,[`${s.value}-block-node`]:G,[`${s.value}-unselectable`]:!Y,[`${s.value}-rtl`]:p.value==="rtl"},n.class,D.value),direction:p.value,checkable:B,selectable:Y,switcherIcon:ae=>Pa(s.value,z,ae,v.leafIcon,O),onCheck:A,onExpand:W,onSelect:h,onDblclick:_||C,children:H}),k(k({},v),{checkable:()=>m("span",{class:`${s.value}-checkbox-inner`},null)})))}}});var Ba={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const Ha=Ba;function Vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){Ra(e,o,n[o])})}return e}function Ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St=function(t,n){var a=Vt({},t,n.attrs);return m(Ee,Vt({},a,{icon:Ha}),null)};St.displayName="FolderOpenOutlined";St.inheritAttrs=!1;const za=St;var Va={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const qa=Va;function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){Ua(e,o,n[o])})}return e}function Ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ot=function(t,n){var a=qt({},t,n.attrs);return m(Ee,qt({},a,{icon:qa}),null)};Ot.displayName="FolderOutlined";Ot.inheritAttrs=!1;const Ga=Ot;var be;(function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"})(be||(be={}));function wt(e,t,n){function a(o){const v=o[t.key],s=o[t.children];n(v,o)!==!1&&wt(s||[],t,n)}e.forEach(a)}function Wa(e){let{treeData:t,expandedKeys:n,startKey:a,endKey:o,fieldNames:v={title:"title",key:"key",children:"children"}}=e;const s=[];let p=be.None;if(a&&a===o)return[a];if(!a||!o)return[];function w(S){return S===a||S===o}return wt(t,v,S=>{if(p===be.End)return!1;if(w(S)){if(s.push(S),p===be.None)p=be.Start;else if(p===be.Start)return p=be.End,!1}else p===be.Start&&s.push(S);return n.includes(S)}),s}function rt(e,t,n){const a=[...t],o=[];return wt(e,n,(v,s)=>{const p=a.indexOf(v);return p!==-1&&(o.push(s),a.splice(p,1)),!!a.length}),o}var Xa=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const Ya=()=>k(k({},fn()),{expandAction:ct([Boolean,String])});function Ja(e){const{isLeaf:t,expanded:n}=e;return t?m(un,null,null):n?m(za,null,null):m(Ga,null,null)}const it=De({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:ht(Ya(),{showIcon:!0,expandAction:"click"}),slots:Object,setup(e,t){let{attrs:n,slots:a,emit:o,expose:v}=t;var s;const p=fe(e.treeData||ut(dt((s=a.default)===null||s===void 0?void 0:s.call(a))));ve(()=>e.treeData,()=>{p.value=e.treeData}),en(()=>{gt(()=>{var u;e.treeData===void 0&&a.default&&(p.value=ut(dt((u=a.default)===null||u===void 0?void 0:u.call(a))))})});const w=fe(),S=fe(),D=b(()=>nn(e.fieldNames)),K=fe();v({scrollTo:u=>{var C;(C=K.value)===null||C===void 0||C.scrollTo(u)},selectedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.selectedKeys}),checkedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.checkedKeys}),halfCheckedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.halfCheckedKeys}),loadedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.loadedKeys}),loadingKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.loadingKeys}),expandedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.expandedKeys})});const A=()=>{const{keyEntities:u}=an(p.value,{fieldNames:D.value});let C;return e.defaultExpandAll?C=Object.keys(u):e.defaultExpandParent?C=ft(e.expandedKeys||e.defaultExpandedKeys||[],u):C=e.expandedKeys||e.defaultExpandedKeys,C},W=fe(e.selectedKeys||e.defaultSelectedKeys||[]),h=fe(A());ve(()=>e.selectedKeys,()=>{e.selectedKeys!==void 0&&(W.value=e.selectedKeys)},{immediate:!0}),ve(()=>e.expandedKeys,()=>{e.expandedKeys!==void 0&&(h.value=e.expandedKeys)},{immediate:!0});const O=Jn((u,C)=>{const{isLeaf:_}=C;_||u.shiftKey||u.metaKey||u.ctrlKey||K.value.onNodeExpand(u,C)},200,{leading:!0}),z=(u,C)=>{e.expandedKeys===void 0&&(h.value=u),o("update:expandedKeys",u),o("expand",u,C)},j=(u,C)=>{const{expandAction:_}=e;_==="click"&&O(u,C),o("click",u,C)},G=(u,C)=>{const{expandAction:_}=e;(_==="dblclick"||_==="doubleclick")&&O(u,C),o("doubleclick",u,C),o("dblclick",u,C)},B=(u,C)=>{const{multiple:_}=e,{node:Z,nativeEvent:H}=C,ae=Z[D.value.key],te=k(k({},C),{selected:!0}),Ke=(H==null?void 0:H.ctrlKey)||(H==null?void 0:H.metaKey),re=H==null?void 0:H.shiftKey;let T;_&&Ke?(T=u,w.value=ae,S.value=T,te.selectedNodes=rt(p.value,T,D.value)):_&&re?(T=Array.from(new Set([...S.value||[],...Wa({treeData:p.value,expandedKeys:h.value,startKey:ae,endKey:w.value,fieldNames:D.value})])),te.selectedNodes=rt(p.value,T,D.value)):(T=[ae],w.value=ae,S.value=T,te.selectedNodes=rt(p.value,T,D.value)),o("update:selectedKeys",T),o("select",T,te),e.selectedKeys===void 0&&(W.value=T)},Y=(u,C)=>{o("update:checkedKeys",u),o("check",u,C)},{prefixCls:J,direction:R}=Xt("tree",e);return()=>{const u=ue(`${J.value}-directory`,{[`${J.value}-directory-rtl`]:R.value==="rtl"},n.class),{icon:C=a.icon,blockNode:_=!0}=e,Z=Xa(e,["icon","blockNode"]);return m(Ve,X(X(X({},n),{},{icon:C||Ja,ref:K,blockNode:_},Z),{},{prefixCls:J.value,class:u,expandedKeys:h.value,selectedKeys:W.value,onSelect:B,onClick:j,onDblclick:G,onExpand:z,onCheck:Y}),a)}}}),st=vt,ro=k(Ve,{DirectoryTree:it,TreeNode:st,install:e=>(e.component(Ve.name,Ve),e.component(st.name,st),e.component(it.name,it),e)});export{lo as C,ro as _,ce as e};
