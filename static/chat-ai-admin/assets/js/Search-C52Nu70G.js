import{aB as g,aK as U,aO as V,aD as F,B as G,aR as K,aG as h,aI as q}from"../../index-CWYf_R7c.js";import{I as H}from"./Input-BW-N7Cx9.js";import{S as J}from"./SearchOutlined-gkqcN_Zr.js";import{i as L}from"./isPlainObject-Q-ndSLdg.js";import{c as Q}from"./inputProps-CuDRpClH.js";import{e as W,s as j,b as X,j as C}from"./vue-chunks-Bxyh5WP6.js";var Y=function(t,p){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&p.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)p.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(o[n[s]]=t[n[s]]);return o};const ie=W({compatConfig:{MODE:3},name:"AInputSearch",inheritAttrs:!1,props:g(g({},Q()),{inputPrefixCls:String,enterButton:U.any,onSearch:{type:Function}}),setup(t,p){let{slots:o,attrs:n,expose:s,emit:r}=p;const u=j(),m=j(!1);s({focus:()=>{var e;(e=u.value)===null||e===void 0||e.focus()},blur:()=>{var e;(e=u.value)===null||e===void 0||e.blur()}});const E=e=>{r("update:value",e.target.value),e&&e.target&&e.type==="click"&&r("search",e.target.value,e),r("change",e)},O=e=>{var a;document.activeElement===((a=u.value)===null||a===void 0?void 0:a.input)&&e.preventDefault()},b=e=>{var a,i;r("search",(i=(a=u.value)===null||a===void 0?void 0:a.input)===null||i===void 0?void 0:i.stateValue,e)},w=e=>{m.value||t.loading||b(e)},I=e=>{m.value=!0,r("compositionstart",e)},N=e=>{m.value=!1,r("compositionend",e)},{prefixCls:c,getPrefixCls:k,direction:$,size:d}=V("input-search",t),z=X(()=>k("input",t.inputPrefixCls));return()=>{var e,a,i,y;const{disabled:x,loading:R,addonAfter:P=(e=o.addonAfter)===null||e===void 0?void 0:e.call(o),suffix:T=(a=o.suffix)===null||a===void 0?void 0:a.call(o)}=t,D=Y(t,["disabled","loading","addonAfter","suffix"]);let{enterButton:l=(y=(i=o.enterButton)===null||i===void 0?void 0:i.call(o))!==null&&y!==void 0?y:!1}=t;l=l||l==="";const _=typeof l=="boolean"?C(J,null,null):null,B=`${c.value}-button`,f=Array.isArray(l)?l[0]:l;let v;const A=f.type&&L(f.type)&&f.type.__ANT_BUTTON;if(A||f.tagName==="button")v=F(f,g({onMousedown:O,onClick:b,key:"enterButton"},A?{class:B,size:d.value}:{}),!1);else{const S=_&&!l;v=C(G,{class:B,type:l?"primary":void 0,size:d.value,disabled:x,key:"enterButton",onMousedown:O,onClick:b,loading:R,icon:S?_:null},{default:()=>[S?null:_||l]})}P&&(v=[v,P]);const M=K(c.value,{[`${c.value}-rtl`]:$.value==="rtl",[`${c.value}-${d.value}`]:!!d.value,[`${c.value}-with-button`]:!!l},n.class);return C(H,h(h(h({ref:u},q(D,["onUpdate:value","onSearch","enterButton"])),n),{},{onPressEnter:w,onCompositionstart:I,onCompositionend:N,size:d.value,prefixCls:z.value,addonAfter:v,suffix:T,onChange:E,class:M,disabled:x}),o)}}});export{ie as _};
